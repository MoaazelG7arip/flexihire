import{a as U}from"./chunk-7XDUVRNF.js";import{a as H}from"./chunk-ZKM4LLLM.js";import{a as B}from"./chunk-W3UWONK4.js";import{a as D}from"./chunk-IMCIWAYF.js";import"./chunk-NUY3BYMQ.js";import{e as q,g as $,h as j}from"./chunk-KBS3EZNC.js";import{n as N}from"./chunk-SBNREMTY.js";import{$ as h,Eb as u,Fb as p,Gb as k,Hb as L,Ib as P,Na as F,Oa as I,Ob as M,Ua as c,ba as T,db as x,eb as E,fb as y,jb as g,kb as v,la as f,lb as w,ma as _,mb as S,nb as a,ob as r,pb as d,sb as b,vb as C,wb as l,zb as V}from"./chunk-IC3SXG5R.js";function O(t,m){if(t&1&&(a(0,"app-notification"),p(1),r()),t&2){let e=l();E("role",e.notification.status),c(),k(e.notification.message)}}function R(t,m){t&1&&d(0,"app-loader")}function z(t,m){if(t&1&&d(0,"img",18),t&2){let e=l().$implicit;V("alt","",e.first_name," ",e.last_name,""),y("src",e.image_url,I)}}function J(t,m){if(t&1&&(a(0,"div",19),p(1),r()),t&2){let e=l().$implicit;c(),k((e==null?null:e.first_name[0].toUpperCase())+(e==null?null:e.last_name[0].toUpperCase()))}}function A(t,m){if(t&1){let e=b();a(0,"div")(1,"button",25),C("click",function(o){f(e);let i=l().$implicit,s=l(2);return _(s.onContactMe(o,i))}),p(2," Contact Me "),d(3,"img",26),r()()}}function G(t,m){if(t&1&&(a(0,"div",12)(1,"div",15)(2,"div",16)(3,"div",17),x(4,z,1,4,"img",18)(5,J,2,1,"div",19),a(6,"div",20)(7,"h2",21),p(8),r(),a(9,"p",22),d(10,"img",23),p(11),r()()(),x(12,A,4,0,"div"),r(),a(13,"p",24),p(14),r()()()),t&2){let e=m.$implicit,n=l(2);c(4),g(e.image_url?4:5),c(3),y("routerLink",e.id),c(),P(" ",e.first_name," ",e.last_name," "),c(3),L(" ",e.location||"Location not available"," "),c(),g((n.mainCompany==null||n.mainCompany.user==null?null:n.mainCompany.user.id)!=(e==null?null:e.id)?12:-1),c(2),L(" ",e.description," ")}}function K(t,m){t&1&&(a(0,"div",13),d(1,"i",27),a(2,"h2",28),p(3,"No Companies Found"),r()())}function Q(t,m){if(t&1){let e=b();a(0,"button",30),C("click",function(){let o=f(e).$implicit,i=l(3);return _(i.goToPage(o.label,o.url))}),r()}if(t&2){let e=m.$implicit,n=m.$index,o=l(3);y("disabled",e.active)("innerHTML",n==0?"<<":n==o.paginationLinks.length-1?">>":e.label,F)}}function W(t,m){if(t&1&&(a(0,"div",14),w(1,Q,1,2,"button",29,v),r()),t&2){let e=l(2);c(),S(e.paginationLinks)}}function X(t,m){if(t&1){let e=b();a(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"input",7,0),C("keyup.enter",function(){f(e);let o=u(6),i=u(9),s=l();return _(s.onSearch(o,i))}),r()(),a(7,"div",8)(8,"input",9,1),C("keyup.enter",function(){f(e);let o=u(6),i=u(9),s=l();return _(s.onSearch(o,i))}),r()(),a(10,"div",10)(11,"button",11),C("click",function(){f(e);let o=u(6),i=u(9),s=l();return _(s.onSearch(o,i))}),p(12,"Find Company"),r()()()(),w(13,G,15,7,"div",12,v),x(15,K,4,0,"div",13)(16,W,3,0,"div",14),r()()}if(t&2){let e=l();c(13),S(e.companies),c(2),g(e.companies.length==0?15:16)}}var le=(()=>{class t{informationService=h(H);companies=[];paginationLinks=[];loading=!1;locationChange=!1;userLocation;list;routeSubscription;notification={isFound:!1,message:"",status:""};route=h(q);router=h($);mainCompany;ngOnInit(){sessionStorage.removeItem("addInfo"),this.routeSubscription=this.route.queryParamMap.subscribe(e=>{let n=+e.get("page"),o=e.get("search"),i=e.get("searchLocation");n==0&&(n=1),o==null&&(o=""),i==null&&(i=""),this.fetchCompanyDetails(n,o,i)})}fetchCompanyDetails(e,n,o){this.loading=!0,this.informationService.onGetCompanyByUrl(e,n,o).subscribe({next:i=>{this.loading=!1,console.log(i),this.companies=i.data.data,this.paginationLinks=i.data.links,this.notification={isFound:!0,message:i.message||"Companies fetched successfully",status:"success"},setTimeout(()=>{this.notification={isFound:!1,message:"",status:""}},3500),this.mainCompany=JSON.parse(localStorage.getItem("user"))},error:i=>{this.loading=!1,console.log(i),this.notification={isFound:!0,message:i.error.message||"Error fetching applications",status:"alert"},setTimeout(()=>{this.notification={isFound:!1,message:"",status:""}},3500)}})}goToPage(e,n){if(n!=null){window.scrollTo({top:0,behavior:"smooth"});let o=+this.route.snapshot.queryParamMap.get("page"),i=this.route.snapshot.queryParamMap.get("search"),s=this.route.snapshot.queryParamMap.get("searchLocation");o==0&&(o=1),i==null&&(i=""),s==null&&(s=""),e=="Next &raquo;"?this.router.navigate(["/page/companies"],{queryParams:{page:++o,search:i,searchLocation:s}}):e=="&laquo; Previous"?this.router.navigate(["/page/companies"],{queryParams:{page:--o,search:i,searchLocation:s}}):this.router.navigate(["/page/companies"],{queryParams:{page:e,search:i,searchLocation:s}})}}onSearch(e,n){this.router.navigate(["/page/companies"],{queryParams:{page:1,search:e.value,searchLocation:n.value}})}onContactMe(e,n){e.stopPropagation(),sessionStorage.setItem("userChat",JSON.stringify(n)),sessionStorage.setItem("chatType","company"),sessionStorage.setItem("chatMobileChange","true"),this.router.navigate(["/page/real-chat"])}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=T({type:t,selectors:[["app-companies"]],standalone:!0,features:[M],decls:4,vars:2,consts:[["companyName",""],["searchLocation",""],[1,"bg-gradient-to-b","from-custom-blue","to-white","overflow-hidden","min-h-screen"],[1,"container","max-w-full"],[1,"w-full","bg-white","rounded-lg","shadow-lg","my-16","p-5","sm:p-10"],[1,"flex","flex-col","md:flex-row","items-center","justify-between","gap-5","md:gap-0","scale-90"],[1,"w-full","relative","flex-1","border","border-cyan-500","rounded-full","md:rounded-s-full","md:rounded-e-none","p-2"],["type","text","placeholder","Search By Company Name...",1,"!border-none","!m-0",3,"keyup.enter"],[1,"w-full","relative","flex-1","border","border-cyan-500","p-2","rounded-full","md:rounded-none"],["type","text","placeholder","Search By Location...",1,"!border-none","!m-0",3,"keyup.enter"],[1,""],[1,"text-white","bg-custom-blue","hover:bg-dark-blue","rounded-full","md:rounded-e-full","md:rounded-s-none","px-8","py-[1.4rem]","font-semibold",3,"click"],[1,"flex","flex-col","items-center","w-full","bg-white","rounded-lg","shadow-lg","my-16"],[1,"flex","flex-col","items-center","justify-center","w-full","h-52"],[1,"pagination-controls","mx-auto","w-fit","md:border-2","md:border-cyan-500","rounded-full","py-2","px-10","mt-2","mb-20"],[1,"w-full","p-10","flex","flex-col","gap-5","md:gap-0","items-center","md:items-start"],[1,"flex","flex-col","md:flex-row","gap-5","md:gap-0","justify-between","w-full","items-center"],[1,"flex"],[1,"w-24","h-24","rounded-full","border-4","border-white",3,"src","alt"],[1,"min-w-24","min-h-24","max-w-24","max-h-24","rounded-full","border-4","border-white","bg-gray-200","flex","items-center","justify-center","text-4xl","font-semibold","text-gray-600"],[1,"ms-5"],[1,"mt-4","text-2xl","font-semibold","hover:underline","cursor-pointer",3,"routerLink"],[1,"mt-2","text-gray-600","flex","items-center"],["src","photo/loc.png","alt","",1,"w-5","me-2"],[1,"mt-4","text-gray-700","text-justify","md:text-left"],[1,"flex","items-center","bg-gradient-to-r","from-custom-blue","to-custom-blue/50","py-3","px-5","rounded-full","hover:from-dark-blue","hover:to-custom-blue",3,"click"],["src","photo/Vector.png","alt","",1,"ms-2","w-5"],[1,"fa-solid","fa-circle-exclamation","text-9xl","text-yellow-500"],[1,"text-4xl","font-semibold","text-gray-700","text-center"],[1,"border","text-black","py-1","px-2","m-1","rounded-full","text-sm","md:text-xl","cursor-pointer","hover:bg-gray-100","disabled:bg-cyan-500","disabled:text-white","disabled:cursor-auto",3,"disabled","innerHTML"],[1,"border","text-black","py-1","px-2","m-1","rounded-full","text-sm","md:text-xl","cursor-pointer","hover:bg-gray-100","disabled:bg-cyan-500","disabled:text-white","disabled:cursor-auto",3,"click","disabled","innerHTML"]],template:function(n,o){n&1&&(x(0,O,2,2,"app-notification"),d(1,"app-progress-bar"),x(2,R,1,0,"app-loader")(3,X,17,1,"div",2)),n&2&&(g(o.notification.isFound?0:-1),c(2),g(o.loading?2:3))},dependencies:[N,U,j,D,B]})}return t})();export{le as CompaniesComponent};
