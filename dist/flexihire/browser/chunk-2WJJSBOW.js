import{c as T,d as f,e as E,f as M,g as N,i as h,k as X,n as O,o as V,t as q,w as z}from"./chunk-VT7537MC.js";import{a as I}from"./chunk-IMCIWAYF.js";import{a as L}from"./chunk-IXTKUC53.js";import{a as P}from"./chunk-NCQ4MMQJ.js";import"./chunk-NUY3BYMQ.js";import{g as k}from"./chunk-KBS3EZNC.js";import{j as y,n as F}from"./chunk-SBNREMTY.js";import{$ as p,Fb as l,Ob as S,Ua as s,ba as x,db as c,fb as m,jb as w,la as _,ma as b,nb as o,ob as n,pb as d,sb as C,vb as g,wb as v}from"./chunk-IC3SXG5R.js";function R(e,u){e&1&&d(0,"app-loader")}function G(e,u){e&1&&(o(0,"div",24),l(1," Please enter a valid email. "),n())}function D(e,u){e&1&&d(0,"i",17)}function j(e,u){e&1&&d(0,"i",18)}function A(e,u){e&1&&(o(0,"div",24),l(1," Password is required. "),n())}function B(e,u){e&1&&(o(0,"div",25),l(1," Password must be at least 8 Characters "),n())}function J(e,u){if(e&1){let t=C();o(0,"div",11),d(1,"input",12)(2,"label",13),c(3,G,2,0,"div",14),n(),o(4,"div",15)(5,"div",16),g("click",function(){_(t);let i=v();return b(i.seePassword=!i.seePassword)}),c(6,D,1,0,"i",17)(7,j,1,0,"i",18),n(),d(8,"input",19)(9,"label",20),c(10,A,2,0,"div",14)(11,B,2,0,"div",21),o(12,"button",22),g("click",function(){_(t);let i=v();return b(i.goToForgetPassword())}),l(13,"Forget Password?"),n()(),o(14,"div",11)(15,"button",23),l(16," Login "),n()()}if(e&2){let t,r,i,a=v();s(3),m("ngIf",((t=a.loginForm.get("email"))==null?null:t.invalid)&&((t=a.loginForm.get("email"))==null?null:t.touched)),s(3),w(a.seePassword?7:6),s(2),m("type",a.seePassword?"text":"password"),s(2),m("ngIf",((r=a.loginForm.get("password"))==null||r.errors==null?null:r.errors.required)&&((r=a.loginForm.get("password"))==null?null:r.touched)),s(),m("ngIf",!(!((i=a.loginForm.get("password"))==null||i.errors==null)&&i.errors.required)&&((i=a.loginForm.get("password"))==null?null:i.touched)&&((i=a.loginForm.get("password"))==null||i.errors==null?null:i.errors.minlength)),s(4),m("disabled",a.loginForm.invalid)}}var oe=(()=>{class e{bridgeService=p(P);authService=p(L);loading=!1;notification={isFound:!1,message:"",status:""};seePassword=!1;router=p(k);loginForm;constructor(){this.loginForm=new N({email:new h("",[f.required,f.email]),password:new h("",[f.required,f.minLength(8)])})}ngOnInit(){this.bridgeService.loading.subscribe(t=>{this.loading=t})}onSubmit(){this.loginForm.valid&&this.onLogin()}goToRegisterPage(){this.router.navigate(["/auth/register"])}goToForgetPassword(){this.router.navigate(["/auth/forget-password"])}onLogin(){this.loading=!0,this.bridgeService.getLoading(this.loading),console.log("login Form  : ",this.loginForm.value),this.authService.onLogin(this.loginForm.value).subscribe({next:t=>{console.log(t),this.loading=!1,this.bridgeService.getLoading(this.loading),this.authService.user.next(t),localStorage.setItem("user",JSON.stringify(t)),this.router.navigate(["/page/home"]),this.notification={isFound:!0,message:t.message||"Login Successfully",status:"success"},this.bridgeService.getNotification(this.notification),setTimeout(()=>{this.notification={isFound:!1,message:"",status:""}},3500),this.bridgeService.getNotification(this.notification)},error:t=>{console.error(t),this.loading=!1,this.bridgeService.getLoading(this.loading),this.notification={isFound:!0,message:t?.error?.message||"Login Failed",status:"alert"},this.bridgeService.getNotification(this.notification),setTimeout(()=>{this.notification={isFound:!1,message:"",status:""}},3500),this.bridgeService.getNotification(this.notification)}})}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=x({type:e,selectors:[["app-login"]],standalone:!0,features:[S],decls:19,vars:2,consts:[[1,"w-full","flex","h-screen","gap-[5vw]"],[1,"media","overflow-hidden","h-full","absolute","top-0","left-0","w-full","sm:w-[35vw]","sm:relative","-z-10","sm:z-10"],[1,"absolute","z-20","w-2/3","left-1/2","transform","-translate-x-1/2","top-24","hidden","sm:block"],[1,"font-extrabold","text-3xl","my-5"],[1,"font-semibold"],["src","video/vecteezy_happy-child-back-to-school_37210123.mp4","autoplay","","muted","","loop","",1,"w-full","h-full","relative","object-cover"],[1,"meta","overflow-auto","bg-white","bg-opacity-50","sm:bg-none","sm:bg-opacity-0","w-full","sm:w-[60vw]"],[1,"container","pt-16"],[1,"font-bold","text-2xl","mb-6"],[1,"space-y-3","grid","grid-cols-2","gap-x-5",3,"ngSubmit","formGroup"],[1,"text-custom-blue","font-bold","hover:underline",3,"click"],[1,"col-span-2"],["id","email","type","text","formControlName","email","required",""],["alt","Email","placeholder","Email"],["class","text-sm text-red-600 mt-1",4,"ngIf"],[1,"col-span-2","relative"],[1,"absolute","top-3","right-4","text-dark-blue","cursor-pointer",3,"click"],[1,"fa-solid","fa-eye"],[1,"fa-solid","fa-eye-slash"],["id","password","formControlName","password","required","",3,"type"],["alt","Password","placeholder","Password"],["class","text-sm text-yellow-600 mt-1 font-bold",4,"ngIf"],["type","button",1,"text-custom-blue","font-bold","hover:underline",3,"click"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-custom-blue","hover:bg-dark-blue","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-custom-blue","disabled:bg-gray-300","disabled:cursor-not-allowed",3,"disabled"],[1,"text-sm","text-red-600","mt-1"],[1,"text-sm","text-yellow-600","mt-1","font-bold"]],template:function(r,i){r&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),l(4,"Welcome Back!"),n(),o(5,"p",4),l(6,"To keep connected with us please Login with your personal info"),n()(),d(7,"video",5),n(),o(8,"div",6)(9,"div",7)(10,"h1",8),l(11,"Login"),n(),o(12,"form",9),g("ngSubmit",function(){return i.onSubmit()}),c(13,R,1,0,"app-loader")(14,J,17,6),n(),o(15,"p"),l(16," don't have an account? "),o(17,"button",10),g("click",function(){return i.goToRegisterPage()}),l(18," Register "),n()()()()()),r&2&&(s(12),m("formGroup",i.loginForm),s(),w(i.loading?13:14))},dependencies:[F,y,z,X,T,E,M,q,O,V,I],styles:["@media (min-width: 640px){.f-page[_ngcontent-%COMP%]{overflow:hidden}.f-page[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]{animation:move 3s 1 forwards;-webkit-animation:_ngcontent-%COMP%_move 3s 1 forwards;z-index:10}.f-page[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{animation:move-l 3s 1 forwards;-webkit-animation:_ngcontent-%COMP%_move-l 3s 1 forwards}}@keyframes _ngcontent-%COMP%_move{0%{transform:translate(0);filter:blur(5px);-webkit-filter:blur(5px)}to{transform:translate(65vw);-webkit-transform:translateX(65vw);-moz-transform:translateX(65vw);-ms-transform:translateX(65vw);-o-transform:translateX(65vw);filter:blur(0);-webkit-filter:blur(0)}}@keyframes _ngcontent-%COMP%_move-l{0%{transform:translate(0);-webkit-transform:translateX(0%);-moz-transform:translateX(0%);-ms-transform:translateX(0%);-o-transform:translateX(0%);filter:blur(5px);-webkit-filter:blur(5px)}to{transform:translate(-40vw);-webkit-transform:translateX(-40vw);-moz-transform:translateX(-40vw);-ms-transform:translateX(-40vw);-o-transform:translateX(-40vw);filter:blur(0);-webkit-filter:blur(0)}}"]})}return e})();export{oe as LoginComponent};
