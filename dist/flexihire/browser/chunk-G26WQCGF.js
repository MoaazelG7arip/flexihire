import{c as C,d as g,e as P,f as y,g as k,i as M,k as X,n as N,o as O,t as T,w as E}from"./chunk-VT7537MC.js";import{a as z}from"./chunk-IMCIWAYF.js";import{a as F}from"./chunk-IXTKUC53.js";import{a as S}from"./chunk-NCQ4MMQJ.js";import"./chunk-NUY3BYMQ.js";import{g as x}from"./chunk-KBS3EZNC.js";import{j as h,n as _}from"./chunk-SBNREMTY.js";import{$ as l,Fb as n,Ob as w,Ua as a,ba as p,db as f,fb as m,jb as v,nb as o,ob as r,pb as d,vb as u,wb as b}from"./chunk-IC3SXG5R.js";function G(t,c){t&1&&d(0,"app-loader")}function I(t,c){t&1&&(o(0,"div",13),n(1," Please enter a valid email. "),r())}function q(t,c){if(t&1&&(o(0,"div",8),d(1,"input",9)(2,"label",10),f(3,I,2,0,"div",11),r(),o(4,"div",8)(5,"button",12),n(6," Request OTP "),r()()),t&2){let e,i=b();a(3),m("ngIf",((e=i.forgetForm.get("email"))==null?null:e.invalid)&&((e=i.forgetForm.get("email"))==null?null:e.touched)),a(2),m("disabled",i.forgetForm.invalid)}}var W=(()=>{class t{loading=!1;notification={isFound:!1,message:"",status:""};forgetForm;router=l(x);bridgeService=l(S);authService=l(F);constructor(){this.forgetForm=new k({email:new M("",[g.required,g.email])})}ngOnInit(){this.bridgeService.loading.subscribe(e=>{this.loading=e})}onSubmit(){this.forgetForm.valid&&this.onForgetPassword()}goToLoginPage(){this.router.navigate(["/auth/login"])}onForgetPassword(){this.loading=!0,this.bridgeService.getLoading(this.loading),this.authService.onForgetPassword(this.forgetForm.value).subscribe({next:e=>{console.log(e),this.loading=!1,this.bridgeService.getLoading(this.loading),sessionStorage.setItem("email",this.forgetForm.value.email),this.notification={isFound:!0,message:e.message,status:"success"},this.bridgeService.getNotification(this.notification),setTimeout(()=>{this.notification={isFound:!1,message:"",status:""}},3500),this.bridgeService.getNotification(this.notification),this.router.navigate(["/auth/reset-password"])},error:e=>{console.error(e),this.loading=!1,this.bridgeService.getLoading(this.loading),this.notification={isFound:!0,message:e?.error?.message,status:"alert"},this.bridgeService.getNotification(this.notification),setTimeout(()=>{this.notification={isFound:!1,message:"",status:""}},3500),this.bridgeService.getNotification(this.notification)}})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=p({type:t,selectors:[["app-forget-password"]],standalone:!0,features:[w],decls:14,vars:2,consts:[[1,"w-full","flex","h-screen","gap-[5vw]"],[1,"media","overflow-hidden","h-full","absolute","top-0","left-0","w-full","sm:w-[35vw]","sm:relative","-z-10","sm:z-10"],["src","video/vecteezy_happy-child-back-to-school_37210123.mp4","autoplay","","muted","","loop","",1,"w-full","h-full","relative","object-cover"],[1,"meta","overflow-auto","bg-white","bg-opacity-50","sm:bg-none","sm:bg-opacity-0","w-full","sm:w-[60vw]"],[1,"container","pt-16"],[1,"font-bold","text-2xl","mb-6"],[1,"space-y-3","grid","grid-cols-2","gap-x-5",3,"ngSubmit","formGroup"],[1,"text-custom-blue","font-bold","hover:underline",3,"click"],[1,"col-span-2"],["id","email","type","text","formControlName","email","required",""],["alt","Email","placeholder","Email"],["class","text-sm text-red-600 mt-1",4,"ngIf"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-custom-blue","hover:bg-dark-blue","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-custom-blue","disabled:bg-gray-300","disabled:cursor-not-allowed",3,"disabled"],[1,"text-sm","text-red-600","mt-1"]],template:function(i,s){i&1&&(o(0,"div",0)(1,"div",1),d(2,"video",2),r(),o(3,"div",3)(4,"div",4)(5,"h1",5),n(6,"Forget Password?"),r(),o(7,"form",6),u("ngSubmit",function(){return s.onSubmit()}),f(8,G,1,0,"app-loader")(9,q,7,2),r(),o(10,"p"),n(11," already have an account? "),o(12,"button",7),u("click",function(){return s.goToLoginPage()}),n(13," login "),r()()()()()),i&2&&(a(7),m("formGroup",s.forgetForm),a(),v(s.loading?8:9))},dependencies:[_,h,E,X,C,P,y,T,N,O,z],styles:["@media (min-width: 640px){.f-page[_ngcontent-%COMP%]{overflow:hidden}.f-page[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]{animation:move 3s 1 forwards;-webkit-animation:_ngcontent-%COMP%_move 3s 1 forwards;z-index:10}.f-page[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{animation:move-l 3s 1 forwards;-webkit-animation:_ngcontent-%COMP%_move-l 3s 1 forwards}}@keyframes _ngcontent-%COMP%_move{0%{transform:translate(65vw);-webkit-transform:translateX(65vw);-moz-transform:translateX(65vw);-ms-transform:translateX(65vw);-o-transform:translateX(65vw);filter:blur(5px);-webkit-filter:blur(5px)}to{transform:translate(0);filter:blur(0);-webkit-filter:blur(0)}}@keyframes _ngcontent-%COMP%_move-l{0%{transform:translate(-40vw);-webkit-transform:translateX(-40vw);-moz-transform:translateX(-40vw);-ms-transform:translateX(-40vw);-o-transform:translateX(-40vw);filter:blur(5px);-webkit-filter:blur(5px)}to{transform:translate(0);-webkit-transform:translateX(0%);-moz-transform:translateX(0%);-ms-transform:translateX(0%);-o-transform:translateX(0%);filter:blur(0px);-webkit-filter:blur(0px)}}"]})}return t})();export{W as ForgetPasswordComponent};
