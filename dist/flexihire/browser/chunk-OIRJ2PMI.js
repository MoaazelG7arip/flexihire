import{a as H}from"./chunk-7XDUVRNF.js";import{a as D}from"./chunk-ZKM4LLLM.js";import{a as O}from"./chunk-W3UWONK4.js";import{a as B}from"./chunk-IMCIWAYF.js";import"./chunk-NUY3BYMQ.js";import{e as N,g as q,h as $}from"./chunk-KBS3EZNC.js";import{i as P,n as L}from"./chunk-SBNREMTY.js";import{$ as C,Eb as p,Fb as m,Gb as y,Hb as w,Ib as M,Na as T,Oa as U,Ob as V,Ua as c,ba as S,db as x,eb as k,fb as b,jb as g,kb as j,la as f,lb as F,ma as _,mb as E,nb as r,ob as a,pb as u,sb as v,vb as h,wb as s,zb as I}from"./chunk-IC3SXG5R.js";function J(t,d){if(t&1&&(r(0,"app-notification"),m(1),a()),t&2){let e=s();k("role",e.notification.status),c(),y(e.notification.message)}}function R(t,d){t&1&&u(0,"app-loader")}function z(t,d){if(t&1&&u(0,"img",19),t&2){let e=s().$implicit;I("alt","",e.first_name," ",e.last_name,""),b("src",e.image_url,U)}}function A(t,d){if(t&1&&(r(0,"div",20),m(1),a()),t&2){let e=s().$implicit;c(),y(e.first_name[0].toUpperCase()+e.last_name[0].toUpperCase())}}function G(t,d){if(t&1){let e=v();r(0,"div")(1,"button",26),h("click",function(o){f(e);let i=s().$implicit,l=s(2);return _(l.onContactMe(o,i))}),m(2," Contact Me "),u(3,"img",27),a()()}}function K(t,d){if(t&1&&(r(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18),x(4,z,1,4,"img",19)(5,A,2,1,"div",20),r(6,"div",21)(7,"h2",22),m(8),a(),r(9,"p",23),u(10,"img",24),m(11),a()()(),x(12,G,4,0,"div"),a(),r(13,"p",25),m(14),a()()()),t&2){let e=d.$implicit,n=s(2);c(4),g(e.image_url?4:5),c(3),b("routerLink",e.id),c(),M(" ",e.first_name," ",e.last_name," "),c(3),w(" ",(e==null||e.jobs[0]==null?null:e.jobs[0].name)||"Job Title not available"," "),c(),g(n.MainUser.user.id!=e.id?12:-1),c(2),w(" ",e.description," ")}}function Q(t,d){t&1&&(r(0,"div",13),u(1,"i",28),r(2,"h2",29),m(3,"No Users Found"),a()())}function W(t,d){if(t&1){let e=v();r(0,"button",31),h("click",function(){let o=f(e).$implicit,i=s(3);return _(i.goToPage(o.label,o.url))}),a()}if(t&2){let e=d.$implicit,n=d.$index,o=s(3);b("disabled",e.active)("innerHTML",n==0?"<<":n==o.paginationLinks.length-1?">>":e.label,T)}}function X(t,d){if(t&1&&(r(0,"div",14),F(1,W,1,2,"button",30,j),a()),t&2){let e=s(2);c(),E(e.paginationLinks)}}function Y(t,d){if(t&1){let e=v();r(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"input",7,0),h("keyup.enter",function(){f(e);let o=p(6),i=p(9),l=s();return _(l.onSearch(o,i))}),a()(),r(7,"div",8)(8,"input",9,1),h("keyup.enter",function(){f(e);let o=p(6),i=p(9),l=s();return _(l.onSearch(o,i))}),a()(),r(10,"div",10)(11,"button",11),h("click",function(){f(e);let o=p(6),i=p(9),l=s();return _(l.onSearch(o,i))}),m(12,"Find User"),a()()()(),x(13,K,15,7,"div",12)(14,Q,4,0,"div",13)(15,X,3,0,"div",14),a()()}if(t&2){let e=s();c(13),b("ngForOf",e.users),c(),g(e.users.length==0?14:15)}}var ce=(()=>{class t{informationService=C(D);users=[];loading=!1;MainUser;notification={isFound:!1,message:"",status:""};route=C(N);router=C(q);routeSubscription;paginationLinks=[];ngOnInit(){sessionStorage.removeItem("addInfo"),this.routeSubscription=this.route.queryParamMap.subscribe(e=>{let n=+e.get("page"),o=e.get("search"),i=e.get("jobSearch");n==0&&(n=1),o==null&&(o=""),i==null&&(i=""),this.fetchUsersDetails(n,o,i)})}fetchUsersDetails(e,n,o){this.loading=!0,this.informationService.onGetUsersByUrl(e,n,o).subscribe({next:i=>{this.loading=!1,console.log(i),this.users=i.data.data,this.paginationLinks=i.data.links,this.MainUser=JSON.parse(localStorage.getItem("user")),this.notification={isFound:!0,message:i.message||"Users fetched successfully",status:"success"},setTimeout(()=>{this.notification={isFound:!1,message:"",status:""}},3500)},error:i=>{this.loading=!1,console.log(i),this.notification={isFound:!0,message:i.error.message||"Error fetching Users",status:"alert"},setTimeout(()=>{this.notification={isFound:!1,message:"",status:""}},3500)}})}goToPage(e,n){if(n!=null){window.scrollTo({top:0,behavior:"smooth"});let o=+this.route.snapshot.queryParamMap.get("page"),i=this.route.snapshot.queryParamMap.get("search"),l=this.route.snapshot.queryParamMap.get("jobSearch");o==0&&(o=1),i==null&&(i=""),l==null&&(l=""),e=="Next &raquo;"?this.router.navigate(["/page/users"],{queryParams:{page:++o,search:i,jobSearch:l}}):e=="&laquo; Previous"?this.router.navigate(["/page/users"],{queryParams:{page:--o,search:i,jobSearch:l}}):this.router.navigate(["/page/users"],{queryParams:{page:e,search:i,jobSearch:l}})}}onSearch(e,n){this.router.navigate(["/page/users"],{queryParams:{page:1,search:e.value,jobSearch:n.value}})}onContactMe(e,n){e.stopPropagation(),sessionStorage.setItem("userChat",JSON.stringify(n)),sessionStorage.setItem("chatType","user"),sessionStorage.setItem("chatMobileChange","true"),this.router.navigate(["/page/real-chat"])}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-users"]],standalone:!0,features:[V],decls:4,vars:2,consts:[["userName",""],["jobTitle",""],[1,"bg-gradient-to-b","from-custom-blue","to-white","overflow-hidden","min-h-screen"],[1,"container","max-w-full"],[1,"w-full","bg-white","rounded-lg","shadow-lg","my-16","p-5","sm:p-10"],[1,"flex","flex-col","md:flex-row","gap-5","md:gap-0","items-center","justify-between","scale-90"],[1,"w-full","relative","flex-1","border","border-cyan-500","rounded-full","md:rounded-s-full","md:rounded-e-none","p-2"],["type","text","placeholder","Search By Username...",1,"!border-none","!m-0",3,"keyup.enter"],[1,"w-full","relative","flex-1","border","border-cyan-500","p-2","rounded-full","md:rounded-none"],["type","text","placeholder","Search By Job Title...",1,"!border-none","!m-0",3,"keyup.enter"],[1,""],[1,"text-white","bg-custom-blue","hover:bg-dark-blue","rounded-full","md:rounded-e-full","md:rounded-s-none","px-8","py-[1.4rem]","font-semibold",3,"click"],["class","flex flex-col items-center w-full bg-white rounded-lg shadow-lg my-16",4,"ngFor","ngForOf"],[1,"flex","flex-col","items-center","justify-center","w-full","h-52"],[1,"pagination-controls","mx-auto","w-fit","md:border-2","md:border-cyan-500","rounded-full","py-2","px-10","mt-2","mb-20"],[1,"flex","flex-col","items-center","w-full","bg-white","rounded-lg","shadow-lg","my-16"],[1,"w-full","p-10","flex","flex-col","gap-5","md:gap-0","items-center","md:items-start"],[1,"flex","flex-col","md:flex-row","gap-5","md:gap-0","justify-between","w-full","items-center"],[1,"flex"],[1,"w-24","h-24","rounded-full","border-4","border-white",3,"src","alt"],[1,"min-w-24","min-h-24","max-w-24","max-h-24","rounded-full","border-4","border-white","bg-gray-200","flex","items-center","justify-center","text-4xl","font-semibold","text-gray-600"],[1,"ms-5"],[1,"mt-4","text-2xl","font-semibold","hover:underline","cursor-pointer",3,"routerLink"],[1,"mt-2","text-gray-600","flex","items-center"],["src","photo/suitcase 1.png","alt","",1,"w-5","me-2"],[1,"mt-4","text-gray-700","text-justify","md:text-left"],[1,"flex","items-center","bg-gradient-to-r","from-custom-blue","to-custom-blue/50","py-3","px-5","rounded-full","hover:from-dark-blue","hover:to-custom-blue",3,"click"],["src","photo/Vector.png","alt","",1,"ms-2","w-5"],[1,"fa-solid","fa-circle-exclamation","text-9xl","text-yellow-500"],[1,"text-4xl","font-semibold","text-gray-700"],[1,"border","text-black","py-1","px-2","m-1","rounded-full","text-sm","md:text-xl","cursor-pointer","hover:bg-gray-100","disabled:bg-cyan-500","disabled:text-white","disabled:cursor-auto",3,"disabled","innerHTML"],[1,"border","text-black","py-1","px-2","m-1","rounded-full","text-sm","md:text-xl","cursor-pointer","hover:bg-gray-100","disabled:bg-cyan-500","disabled:text-white","disabled:cursor-auto",3,"click","disabled","innerHTML"]],template:function(n,o){n&1&&(x(0,J,2,2,"app-notification"),u(1,"app-progress-bar"),x(2,R,1,0,"app-loader")(3,Y,16,2,"div",2)),n&2&&(g(o.notification.isFound?0:-1),c(2),g(o.loading?2:3))},dependencies:[L,P,H,$,B,O]})}return t})();export{ce as UsersComponent};
