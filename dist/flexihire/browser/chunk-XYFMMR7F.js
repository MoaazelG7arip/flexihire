import{a as V}from"./chunk-GHKKSTYY.js";import{a as z}from"./chunk-ZKM4LLLM.js";import{a as D}from"./chunk-W3UWONK4.js";import{a as U}from"./chunk-IMCIWAYF.js";import"./chunk-NUY3BYMQ.js";import{d as N,h as B}from"./chunk-KBS3EZNC.js";import{m as L}from"./chunk-SBNREMTY.js";import{$ as h,Fb as l,Gb as p,Hb as b,Jb as H,Na as T,Oa as J,Ob as $,Tb as v,Ua as o,Wb as g,ba as w,db as s,eb as j,fb as u,jb as m,kb as x,la as y,lb as f,ma as E,mb as C,nb as i,ob as n,pb as c,sb as k,vb as F,wb as r,zb as I}from"./chunk-IC3SXG5R.js";function A(t,a){if(t&1&&(i(0,"app-notification"),l(1),n()),t&2){let e=r();j("role",e.notification.status),o(),p(e.notification.message)}}function M(t,a){t&1&&c(0,"app-loader")}function R(t,a){if(t&1&&c(0,"img",19),t&2){let e=r(2).$implicit;I("alt","",e.first_name," ",e.last_name,""),u("src",e.image_url,J)}}function G(t,a){if(t&1&&(i(0,"div",20),l(1),n()),t&2){let e=r(2).$implicit;o(),b(" ",(e==null?null:e.first_name[0].toUpperCase())+(e==null?null:e.last_name[0].toUpperCase())," ")}}function O(t,a){if(t&1&&l(0),t&2){let e=r(2).$implicit;b(" ",e==null?null:e.average_rating.toFixed(2)," ")}}function P(t,a){t&1&&l(0," - ")}function W(t,a){if(t&1&&(i(0,"div",17)(1,"div",18),s(2,R,1,4,"img",19)(3,G,2,1,"div",20),n(),i(4,"div",21),l(5),n(),i(6,"div",22)(7,"div",23)(8,"p"),s(9,O,1,1)(10,P,1,0),c(11,"i",24),n()()(),i(12,"div",6),l(13),n()()),t&2){let e=r().$implicit;o(2),m(e.image_url?2:3),o(2),u("routerLink","/page/companies/"+e.id),o(),b(" ",(e==null?null:e.first_name)+" "+(e==null?null:e.last_name)," "),o(4),m((e==null?null:e.average_rating)>0?9:10),o(4),b("(",e==null?null:e.jobs_count," Jobs)")}}function Y(t,a){if(t&1&&s(0,W,14,5,"div",17),t&2){let e=a.$index;m(e<6?0:-1)}}function q(t,a){t&1&&c(0,"i",36)}function K(t,a){t&1&&c(0,"i",37)}function Q(t,a){if(t&1){let e=k();i(0,"div",29)(1,"button",35),F("click",function(){y(e);let _=r(2).$implicit,S=r(3);return E(S.saveJob(_.id))}),s(2,q,1,0,"i",36)(3,K,1,0,"i",37),n()()}if(t&2){let e=r(2).$implicit;o(2),m(e.saved?2:3)}}function X(t,a){if(t&1&&(i(0,"span",38),l(1),n()),t&2){let e=r().$implicit;o(),p(e)}}function Z(t,a){if(t&1&&s(0,X,2,1,"span",38),t&2){let e=a.$index;m(e<3?0:-1)}}function ee(t,a){if(t&1&&(i(0,"div",28),s(1,Q,4,1,"div",29),i(2,"div",30)(3,"div")(4,"div",31),l(5),n(),i(6,"div",22),l(7),n()()(),c(8,"div",32),i(9,"div",33),l(10),v(11,"currency"),v(12,"currency"),n(),i(13,"div",34),f(14,Z,1,1,null,null,x),n()()),t&2){let e=r().$implicit,d=r(3);o(),m(d.user.user.roles[0]=="user"?1:-1),o(3),u("routerLink","/page/jobs/"+e.id),o(),p(e.title),o(2),p(e.user.first_name+" "+e.user.last_name),o(),u("innerHTML",d.getSafeHtml(e.description),T),o(2),H(" Salary: ",g(11,8,e.min_salary,"USD","symbol","1.0-0")," - ",g(12,13,e.max_salary,"USD","symbol","1.0-0")," \xA0 (",e.salary_negotiable?"Negotiable":"Not-Negotiable",") "),o(4),C(e.skills)}}function te(t,a){if(t&1&&s(0,ee,16,18,"div",28),t&2){let e=a.$index;m(e<3?0:-1)}}function ie(t,a){t&1&&(i(0,"div",26),c(1,"i",39),i(2,"h2",40),l(3,"No Jobs Found"),n()())}function ne(t,a){t&1&&(i(0,"div",27)(1,"a",41),l(2,"See All"),n()())}function oe(t,a){if(t&1){let e=k();i(0,"div",29)(1,"button",35),F("click",function(){y(e);let _=r(2).$implicit,S=r(3);return E(S.saveJob(_.job.id))}),c(2,"i",36),n()()}}function ae(t,a){if(t&1&&(i(0,"span",38),l(1),n()),t&2){let e=r().$implicit;o(),p(e)}}function le(t,a){if(t&1&&s(0,ae,2,1,"span",38),t&2){let e=a.$index;m(e<3?0:-1)}}function re(t,a){if(t&1&&(i(0,"div",28),s(1,oe,3,0,"div",29),i(2,"div",30)(3,"div")(4,"div",31),l(5),n(),i(6,"div",22),l(7),n()()(),c(8,"div",32),i(9,"div",33),l(10),v(11,"currency"),v(12,"currency"),n(),i(13,"div",34),f(14,le,1,1,null,null,x),n()()),t&2){let e=r().$implicit,d=r(3);o(),m(d.user.user.roles[0]=="user"?1:-1),o(3),u("routerLink","/page/jobs/"+e.job.id),o(),p(e.job.title),o(2),p(e.job.user.first_name+" "+e.job.user.last_name),o(),u("innerHTML",d.getSafeHtml(e.job.description),T),o(2),H(" Salary: ",g(11,8,e.job.min_salary,"USD","symbol","1.0-0")," - ",g(12,13,e.job.max_salary,"USD","symbol","1.0-0")," \xA0 (",e.job.salary_negotiable?"Negotiable":"Not-Negotiable",") "),o(4),C(e.job.skills)}}function de(t,a){if(t&1&&s(0,re,16,18,"div",28),t&2){let e=a.$index;m(e<3?0:-1)}}function me(t,a){t&1&&(i(0,"div",26),c(1,"i",39),i(2,"h2",40),l(3,"No Jobs Found"),n()())}function se(t,a){t&1&&(i(0,"div",27)(1,"a",42),l(2,"See All"),n()())}function ce(t,a){if(t&1&&(i(0,"div")(1,"h2",14),l(2," Recommended Jobs "),c(3,"span",15),n(),i(4,"div",25),f(5,te,1,1,null,null,x),n(),s(7,ie,4,0,"div",26)(8,ne,3,0,"div",27),n(),i(9,"div")(10,"h2",14),l(11," Saved Jobs "),c(12,"span",15),n(),i(13,"div",25),f(14,de,1,1,null,null,x),n(),s(16,me,4,0,"div",26)(17,se,3,0,"div",27),n()),t&2){let e=r(2);o(5),C(e.recommendedJobs),o(2),m(e.recommendedJobs.length==0?7:8),o(7),C(e.savedJobs),o(2),m(e.savedJobs.length==0?16:17)}}function _e(t,a){if(t&1&&(i(0,"div",0)(1,"div",1)(2,"header",2)(3,"h1",3),l(4," Welcome! "),i(5,"span",4),l(6),n()(),i(7,"h2",5),l(8," Find Your Dream Jobs and seekers with FlexiHire "),n(),i(9,"p",6),l(10," Connect with top seekers and discover opportunities that match your skills and ambitions "),n()(),i(11,"div",7)(12,"div",8)(13,"h3",9),l(14," Lets find a new job that match your skills and ambitions "),n(),i(15,"button",10),l(16," Jobs List "),n()(),i(17,"div"),c(18,"img",11),n(),i(19,"div",12)(20,"h3",9),l(21," Lets find companies looking for talented professionals "),n(),i(22,"button",13),l(23," Companies List "),n()()(),i(24,"h2",14),l(25," Top companies "),c(26,"span",15),n(),i(27,"div",16),f(28,Y,1,1,null,null,x),n(),s(30,ce,18,2),n()()),t&2){let e=r();o(6),p(e.user.user.first_name+" "+e.user.user.last_name||""),o(22),C(e.topCompanies),o(2),m(e.user.user.roles[0]=="user"?30:-1)}}var ye=(()=>{class t{topCompanies=[];recommendedJobs=[];savedJobs=[];loading=!1;notification={isFound:!1,message:"",status:""};user;informationService=h(z);jobService=h(V);sanitizer=h(N);ngOnInit(){this.user=JSON.parse(localStorage.getItem("user")),this.fetchRecommendedJobs(),this.fetchTopCompanies(),this.fetchSavedJobs()}fetchTopCompanies(){this.loading=!0,this.informationService.onGetTopCompanies().subscribe({next:e=>{this.loading=!1,this.topCompanies=e.data},error:e=>{this.loading=!1,console.error("Error fetching top companies:",e),this.notification={isFound:!0,message:e.error.message||"Error fetching applications",status:"alert"},setTimeout(()=>{this.notification={isFound:!1,message:"",status:""}},3500)}})}fetchRecommendedJobs(){this.loading=!0,this.informationService.onGetRecommendedJobs().subscribe({next:e=>{this.loading=!1,this.recommendedJobs=e.data},error:e=>{this.loading=!1,console.error("Error fetching top companies:",e),this.notification={isFound:!0,message:e.error.message||"Error fetching jobs",status:"alert"},setTimeout(()=>{this.notification={isFound:!1,message:"",status:""}},3500)}})}fetchSavedJobs(){this.loading=!0,this.informationService.onGetSavedJobs().subscribe({next:e=>{this.loading=!1,this.savedJobs=e.data.data},error:e=>{this.loading=!1,console.error("Error fetching top companies:",e),this.notification={isFound:!0,message:e.error.message||"Error fetching jobs",status:"alert"},setTimeout(()=>{this.notification={isFound:!1,message:"",status:""}},3500)}})}saveJob(e){this.loading=!0,this.jobService.onSaveJob(e).subscribe({next:d=>{console.log(d),this.loading=!1,this.fetchSavedJobs(),this.recommendedJobs.forEach(_=>{_.id===e&&(_.saved=!_.saved)}),this.notification={isFound:!0,message:d.message||"Job saved successfully",status:"success"},setTimeout(()=>{this.notification={isFound:!1,message:"",status:""}},3500)},error:d=>{this.loading=!1,console.log(d),this.notification={isFound:!0,message:d.error.message||"Error saving job",status:"alert"},setTimeout(()=>{this.notification={isFound:!1,message:"",status:""}},3500)}})}getSafeHtml(e){return this.sanitizer.bypassSecurityTrustHtml(e)}static \u0275fac=function(d){return new(d||t)};static \u0275cmp=w({type:t,selectors:[["app-home"]],standalone:!0,features:[$],decls:3,vars:2,consts:[[1,"bg-gradient-to-b","from-custom-blue","to-30%","to-white","overflow-hidden","min-h-screen"],[1,"container","max-w-full"],[1,"text-center","p-8","pt-20","rounded-custom","mb-8","shadow-custom"],[1,"text-gray-500","mb-4","text-3xl","font-bold"],[1,"text-xl","text-black"],[1,"text-4xl","font-normal","mb-4"],[1,"text-gray-600"],[1,"grid","grid-cols-1","md:grid-cols-3","text-center","md:text-start","items-center","my-20","bg-custom-blue/30","p-6","rounded-xl","shadow-lg","gap-4"],[1,"p-5","rounded-card","shadow-card","w-full"],[1,"mb-4","text-3xl","font-semibold"],["routerLink","/page/jobs",1,"flex","mx-auto","font-semibold","bg-gradient-to-r","from-custom-blue","to-custom-blue/50","py-3","px-5","rounded-full","hover:from-dark-blue","hover:to-custom-blue","text-white"],["src","photo/home.png","alt","",1,"max-w-full","mx-auto"],[1,"p-5","rounded-card"],["routerLink","/page/companies",1,"flex","mx-auto","font-semibold","bg-gradient-to-r","from-custom-blue","to-custom-blue/50","py-3","px-5","rounded-full","hover:from-dark-blue","hover:to-custom-blue","text-white"],[1,"text-center","my-10","text-2xl","text-black","font-semibold","relative"],[1,"block","w-12","h-0.5","bg-accent","mx-auto","mt-3"],[1,"grid","grid-cols-2","sm:grid-cols-3","md:grid-cols-4","lg:grid-cols-6","gap-4","mb-10"],[1,"border","border-gray-200","rounded-card","p-5","text-center","bg-white","shadow-card","transition-transform"],[1,"mx-auto","text-center","flex","items-center","justify-center"],[1,"w-24","h-24","rounded-full","border-4","border-white",3,"src","alt"],[1,"min-w-24","min-h-24","max-w-24","max-h-24","rounded-full","border-4","border-white","bg-gray-200","flex","items-center","justify-center","text-4xl","font-semibold","text-gray-600"],[1,"font-bold","mt-4","mb-2","hover:underline","cursor-pointer",3,"routerLink"],[1,"text-gray-600","text-sm"],[1,"mt-4","text-center","text-2xl","font-semibold"],[1,"fa-solid","fa-star",2,"color","#ffd43b"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6","mb-8","px-2","md:px-20"],[1,"flex","flex-col","items-center","justify-center","w-full","h-52"],[1,"text-center","my-6","mb-10"],[1,"border","border-dark-blue","rounded-3xl","p-10","shadow-lg","transition-transform","relative","bg-[#82d9f29e]/20"],[1,"absolute","top-7","right-7"],[1,"flex","mb-4"],[1,"font-semibold","text-2xl","mb-1","text-black","hover:underline","cursor-pointer",3,"routerLink"],[1,"font-normal","mb-4","line-clamp-3",3,"innerHTML"],[1,"text-[#62AFC6]","font-bold","text-sm","mb-4"],[1,"flex","flex-wrap","gap-2","mt-4"],[1,"text-black/80","hover:text-cyan-500",3,"click"],[1,"fa-solid","fa-bookmark","text-3xl"],[1,"fa-regular","fa-bookmark","text-3xl"],[1,"bg-tag-bg","px-4","py-2","rounded-full","text-xs","bg-custom-blue/70","border","border-dark-blue"],[1,"fa-solid","fa-circle-exclamation","text-9xl","text-yellow-500"],[1,"text-4xl","font-semibold","text-gray-700","text-center"],["routerLink","recommendedJobs",1,"text-gray-400","text-2xl","font-normal","hover:text-black","hover:underline","transition-colors"],["routerLink","savedJobs",1,"text-gray-400","text-2xl","font-normal","hover:text-black","hover:underline","transition-colors"]],template:function(d,_){d&1&&s(0,A,2,2,"app-notification")(1,M,1,0,"app-loader")(2,_e,31,2,"div",0),d&2&&(m(_.notification.isFound?0:-1),o(),m(_.loading?1:2))},dependencies:[B,D,U,L]})}return t})();export{ye as HomeComponent};
