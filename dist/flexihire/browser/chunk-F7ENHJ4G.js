import{a as L}from"./chunk-4XZDXSVK.js";import{a as J}from"./chunk-ZKM4LLLM.js";import{a as N}from"./chunk-W3UWONK4.js";import"./chunk-VT7537MC.js";import{a as z}from"./chunk-IMCIWAYF.js";import"./chunk-NUY3BYMQ.js";import{e as R,g as M,h as D}from"./chunk-KBS3EZNC.js";import{k as V,n as j}from"./chunk-SBNREMTY.js";import{$ as g,Fb as o,Gb as p,Hb as T,Oa as v,Ob as E,Pb as I,Qb as F,Ua as l,ba as h,db as c,eb as S,fb as x,jb as u,kb as y,la as _,lb as w,ma as f,mb as U,nb as i,ob as n,pb as d,sb as b,vb as C,wb as m,zb as k}from"./chunk-IC3SXG5R.js";var A=t=>({"background-image":t}),B=()=>({"background-image":"url(photo/white-2172682_1920.jpg)"});function W(t,a){if(t&1&&(i(0,"app-notification"),o(1),n()),t&2){let e=m();S("role",e.notification.status),l(),p(e.notification.message)}}function G(t,a){t&1&&d(0,"app-loader")}function P(t,a){if(t&1){let e=b();i(0,"div",2)(1,"button",23),C("click",function(){_(e);let s=m(2);return f(s.pageState="report")}),o(2,"Report"),n()()}}function $(t,a){if(t&1&&d(0,"div",3),t&2){let e=m(2);x("ngStyle",F(1,A,"url("+(e.user==null?null:e.user.background_url)+")"))}}function q(t,a){t&1&&d(0,"div",3),t&2&&x("ngStyle",I(1,B))}function H(t,a){if(t&1&&d(0,"img",6),t&2){let e=m(2);k("alt","",e.user==null?null:e.user.first_name," ",e.user==null?null:e.user.last_name,""),x("src",e.user==null?null:e.user.image_url,v)}}function K(t,a){if(t&1&&(i(0,"div",7),o(1),n()),t&2){let e=m(2);l(),p((e.user==null?null:e.user.first_name[0].toUpperCase())+(e.user==null?null:e.user.last_name[0].toUpperCase()))}}function Q(t,a){if(t&1&&(i(0,"a",18),o(1,"Download CV (PDF)"),n()),t&2){let e=m(2);x("href",e.user==null?null:e.user.cv,v)}}function X(t,a){t&1&&(i(0,"p"),o(1,"No CV uploaded"),n())}function Y(t,a){if(t&1&&(i(0,"div",24)(1,"span"),o(2),n()()),t&2){let e=a.$implicit;l(2),p(e.name)}}function Z(t,a){if(t&1&&(i(0,"div",20),w(1,Y,3,1,"div",24,y),n()),t&2){let e=m(2);l(),U(e.user.skills)}}function ee(t,a){t&1&&(i(0,"p"),o(1,"No skills provided"),n())}function te(t,a){t&1&&(i(0,"div",21)(1,"div",25)(2,"button",26),d(3,"i",27),o(4," My Reviews"),n()(),i(5,"div",25)(6,"button",28),d(7,"i",29),o(8," My Jobs"),n()()())}function ne(t,a){if(t&1){let e=b();i(0,"div",22)(1,"h1",19),o(2,"Contact Me"),n(),i(3,"button",30),C("click",function(){_(e);let s=m(2);return f(s.contactWith())}),d(4,"i",31),o(5," Message"),n()()}}function ie(t,a){if(t&1&&(i(0,"div",0)(1,"div",1),c(2,P,3,0,"div",2)(3,$,1,3,"div",3)(4,q,1,2,"div",3),i(5,"div",4)(6,"div",5),c(7,H,1,4,"img",6)(8,K,2,1,"div",7),n(),i(9,"div",8)(10,"h1",9),o(11),n(),i(12,"p",10),o(13),n()(),i(14,"div",11)(15,"p"),o(16),n()(),i(17,"div",12)(18,"h1",13),o(19,"About me"),n(),i(20,"p",14),o(21),n()(),i(22,"div",12)(23,"h2",15),o(24,"CV"),n(),i(25,"div",16),d(26,"img",17),c(27,Q,2,1,"a",18)(28,X,2,0,"p"),n()(),i(29,"div",12)(30,"h2",19),o(31,"Skills"),n(),c(32,Z,3,0,"div",20)(33,ee,2,0,"p"),n(),c(34,te,9,0,"div",21)(35,ne,6,0,"div",22),n()()()),t&2){let e=m();l(2),u(e.mainUser?-1:2),l(),u(e.user!=null&&e.user.background_url?3:4),l(4),u(e.user!=null&&e.user.image_url?7:8),l(4),p((e.user==null?null:e.user.first_name)+" "+(e.user==null?null:e.user.last_name)||"no name provided"),l(2),p((e.user==null||e.user.job==null?null:e.user.job.name)||""),l(3),p((e.user==null?null:e.user.location)||""),l(5),T(" ",(e.user==null?null:e.user.description)||"No description provided"," "),l(6),u(e.user!=null&&e.user.cv?27:28),l(5),u(e.user.skills.length>0?32:33),l(2),u(e.mainUser?34:35)}}function oe(t,a){if(t&1){let e=b();i(0,"app-report",32),C("innerState",function(s){_(e);let O=m();return f(O.onReported(s))})("close",function(){_(e);let s=m();return f(s.pageState="")}),n()}}var fe=(()=>{class t{route=g(R);router=g(M);informationService=g(J);notification={isFound:!1,message:"",status:""};user;loading=!1;mainUser=!1;pageState="";routeSubscription;ngOnInit(){this.routeSubscription=this.route.paramMap.subscribe(e=>{let r=+e.get("id");this.fetchUserDetails(r)})}fetchUserDetails(e){this.loading=!0,this.informationService.onGetUserById(e).subscribe({next:r=>{this.loading=!1,console.log(r),this.user=r.user,JSON.parse(localStorage.getItem("user")).user.id==e&&(this.mainUser=!0),this.notification={isFound:!0,message:r.message||"User fetched successfully",status:"success"},setTimeout(()=>{this.notification={isFound:!1,message:"",status:""}},3500)},error:r=>{this.loading=!1,console.log(r),this.notification={isFound:!0,message:r.error.message||"User not fetched ",status:"alert"},setTimeout(()=>{this.notification={isFound:!1,message:"",status:""}},3500)}})}ngOnDestroy(){this.routeSubscription&&this.routeSubscription.unsubscribe()}contactWith(){sessionStorage.setItem("userChat",JSON.stringify(this.user)),sessionStorage.setItem("chatType","user"),sessionStorage.setItem("chatMobileChange","true"),this.router.navigate(["/page/real-chat"])}onReported(e){this.pageState="",this.notification={isFound:!0,message:e.message||"User Reported successfully",status:"success"},setTimeout(()=>{this.notification={isFound:!1,message:"",status:""}},3500)}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=h({type:t,selectors:[["app-user"]],standalone:!0,features:[E],decls:4,vars:3,consts:[[1,"min-h-screen","bg-gradient-to-b","from-custom-blue","to-white","flex","items-center","justify-center","p-6","md:px-10"],[1,"relative","w-full"],[1,"report","relative","flex","justify-end"],[1,"w-full","aspect-[16/9]","sm:h-[30rem]","bg-cover","bg-center","rounded-2xl","sm:w-3/4","h-full","object-cover","mx-auto","border-4","border-dark-blue","mb-4","transition-transform","duration-300","hover:scale-105",3,"ngStyle"],[1,"p-2","sm:p-7"],[1,"flex","justify-center","sm:justify-start","-mt-24"],[1,"w-32","h-32","rounded-full","border-4","shadow-lg","z-[5]","sm:w-32","sm:h-32","mx-auto","border-dark-blue","mb-4","transition-transform","duration-300","hover:scale-105",3,"src","alt"],[1,"w-32","h-32","rounded-full","border-4","shadow-lg","z-[5]","sm:w-32","sm:h-32","mx-auto","border-dark-blue","mb-4","transition-transform","duration-300","hover:scale-105","bg-gray-200","flex","items-center","justify-center","text-4xl","font-semibold","text-gray-600"],[1,"text-center","mt-4"],[1,"text-4xl","font-semibold"],[1,"text-xl","font-semibold","mt-4"],[1,"mt-4","text-center","font-semibold"],[1,"border-2","border-custom-blue","px-5","py-10","my-16","rounded-lg"],[1,"font-semibold","text-2xl"],[1,"my-3"],[1,"text-xl","font-semibold","text-gray-900"],[1,"mt-2","flex","items-center","border-dashed","border-2","border-custom-blue/70","p-5","rounded-lg"],["src","photo/cvpdf.png","alt","",1,"w-20","me-2"],[1,"font-bold","hover:underline",3,"href"],[1,"text-xl","font-semibold"],[1,"flex","flex-wrap","gap-2","mt-2"],[1,"border-2","border-custom-blue","px-5","py-10","my-16","rounded-lg","text-center","flex","flex-col","md:flex-row","gap-5"],[1,"border-2","border-custom-blue","px-5","py-10","my-16","rounded-lg","text-center"],[1,"px-4","py-2","m-2","bg-danger-600","hover:bg-danger-800","text-white","rounded-lg","font-bold","hover:scale-105","duration-100","opacity-50","hover:opacity-100",3,"click"],[1,"px-2","md:px-4","py-1","md:py-2","bg-custom-blue","rounded-full","flex","items-center","gap-2","text-sm","md:text-base"],[1,"w-full","md:w-1/2"],["routerLink","myReviews",1,"bg-custom-blue","hover:bg-dark-blue","p-3","m-3","rounded-md","text-white","w-4/5","text-xl"],[1,"fa-regular","fa-star-half-stroke","mx-2"],["routerLink","myJobs",1,"bg-custom-blue","hover:bg-dark-blue","p-3","m-3","rounded-md","text-white","w-4/5","text-xl"],[1,"fa-regular","fa-rectangle-list","mx-2"],[1,"bg-custom-blue","hover:bg-dark-blue","p-3","m-3","rounded-md","text-white","w-4/5","text-xl",3,"click"],[1,"fa-regular","fa-envelope"],[3,"innerState","close"]],template:function(r,s){r&1&&c(0,W,2,2,"app-notification")(1,G,1,0,"app-loader")(2,ie,36,10,"div",0)(3,oe,1,0,"app-report"),r&2&&(u(s.notification.isFound?0:-1),l(),u(s.loading?1:2),l(2),u(s.pageState=="report"?3:-1))},dependencies:[z,j,V,D,N,L]})}return t})();export{fe as UserComponent};
