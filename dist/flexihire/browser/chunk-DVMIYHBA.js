import{a as N}from"./chunk-ZKM4LLLM.js";import{a as U}from"./chunk-W3UWONK4.js";import{a as B}from"./chunk-IMCIWAYF.js";import"./chunk-NUY3BYMQ.js";import{e as $}from"./chunk-KBS3EZNC.js";import{h as I,i as M,l as D,n as O}from"./chunk-SBNREMTY.js";import{$ as p,Fb as s,Gb as F,Hb as c,Oa as _,Ob as S,Pb as E,Rb as T,Tb as R,Ua as n,Vb as j,ba as v,db as m,eb as g,fb as f,jb as d,kb as C,lb as w,mb as b,nb as l,ob as o,pb as u,qb as y,rb as h,wb as r}from"./chunk-IC3SXG5R.js";var k=()=>[1,2,3,4,5],z=(t,a)=>({"fa-solid ":t,"fa-regular ":a});function A(t,a){if(t&1&&(l(0,"app-notification"),s(1),o()),t&2){let e=r();g("role",e.notification.status),n(),F(e.notification.message)}}function G(t,a){t&1&&u(0,"app-loader")}function L(t,a){if(t&1&&u(0,"img",5),t&2){let e=r().$implicit;f("src",e==null||e.user==null?null:e.user.image_url,_)}}function P(t,a){if(t&1&&(l(0,"div",6),s(1),o()),t&2){let e=r().$implicit;n(),c(" ",(e==null||e.user==null?null:e.user.first_name[0].toUpperCase())+(e==null||e.user==null?null:e.user.last_name[0].toUpperCase())," ")}}function q(t,a){if(t&1&&(l(0,"div",8),u(1,"i",16),s(2),o()),t&2){let e=r().$implicit;n(2),c(" ",(e==null||e.user==null||e.user.jobs[0]==null?null:e.user.jobs[0].name)||""," ")}}function H(t,a){if(t&1&&(y(0),u(1,"i",17),h()),t&2){let e=a.index,i=r().$implicit;n(),f("ngClass",T(1,z,e<(i==null?null:i.rating),e>=(i==null?null:i.rating)))}}function J(t,a){if(t&1&&(l(0,"div",2)(1,"div",3)(2,"div",4),m(3,L,1,1,"img",5)(4,P,2,1,"div",6),l(5,"div")(6,"div",7),s(7),o(),m(8,q,3,1,"div",8),o()(),l(9,"div",9)(10,"div",10),m(11,H,2,4,"ng-container",11),o(),l(12,"span",12),s(13),R(14,"date"),o()()(),l(15,"div",13)(16,"div",14),u(17,"div"),o(),l(18,"p",15),s(19),o()()()),t&2){let e=a.$implicit;n(3),d(!(e==null||e.user==null)&&e.user.image_url?3:4),n(4),c(" ",(e==null||e.user==null?null:e.user.first_name)+" "+(e==null||e.user==null?null:e.user.last_name)," "),n(),d(!(e==null||e.user==null||e.user.jobs[0]==null)&&e.user.jobs[0].name?8:-1),n(3),f("ngForOf",E(9,k)),n(2),c("On ",j(14,6,e==null?null:e.created_at,"MMMM d, y"),""),n(6),c(" ",e==null?null:e.comment," ")}}function K(t,a){if(t&1&&(l(0,"div",1),w(1,J,20,10,"div",2,C),o()),t&2){let e=r();n(),b(e.reviews)}}var ne=(()=>{class t{route=p($);informationService=p(N);company=null;reviews=null;loading=!1;mainUser=!1;reviewState=!1;routeSubscription;notification={isFound:!1,message:"",status:""};ngOnInit(){this.routeSubscription=this.route.paramMap.subscribe(e=>{let i=+e.get("id");this.fetchCompanyDetails(i)})}fetchCompanyDetails(e){this.loading=!0,this.informationService.onGetCompanyById(e).subscribe({next:i=>{this.loading=!1,console.log(i),this.reviews=i.company.reviews.items,console.log(this.reviews),this.notification={isFound:!0,message:i.message||"Companies fetched successfully",status:"success"},setTimeout(()=>{this.notification={isFound:!1,message:"",status:""}},3500)},error:i=>{this.loading=!1,console.log(i),this.notification={isFound:!0,message:i.error.message||"Companies not fetched ",status:"alert"},setTimeout(()=>{this.notification={isFound:!1,message:"",status:""}},3500)}})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=v({type:t,selectors:[["app-reviews"]],standalone:!0,features:[S],decls:4,vars:2,consts:[[1,"bg-gradient-to-b","from-custom-blue","to-white","container","max-w-full","overflow-hidden"],[1,"flex","flex-col","items-center","w-full","my-16","ng-star-inserted"],[1,"w-full","p-10","my-5","flex","flex-col","gap-5","bg-white","rounded-lg","shadow-lg","md:gap-0","items-center","md:items-start"],[1,"flex","flex-col-reverse","md:flex-row","items-center","justify-between","w-full","gap-5","md:mb-7"],[1,"flex","items-center"],["alt","",1,"w-16","h-16","rounded-full","border-2","border-gray-300","object-cover","mr-4",3,"src"],[1,"rounded-full","border-2","border-gray-300","object-cover","mr-4","min-w-16","min-h-16","max-w-16","max-h-16","bg-gray-200","flex","items-center","justify-center","text-4xl","font-semibold","text-gray-600"],[1,"font-semibold","text-lg"],[1,"flex","items-center","text-gray-600","text-sm"],[1,"flex","flex-col","items-end"],[1,"flex","items-center","mb-2"],[4,"ngFor","ngForOf"],[1,"text-gray-500","text-sm"],[1,"flex-1"],[1,"flex","justify-between","items-center","mb-2"],[1,"text-gray-700","text-sm"],[1,"fa-solid","fa-briefcase","mr-1"],[1,"fa-star","text-2xl","mr-1",2,"color","#ffd43b",3,"ngClass"]],template:function(i,x){i&1&&(m(0,A,2,2,"app-notification"),l(1,"div",0),m(2,G,1,0,"app-loader")(3,K,3,0,"div",1),o()),i&2&&(d(x.notification.isFound?0:-1),n(2),d(x.loading?2:3))},dependencies:[B,O,I,M,D,U]})}return t})();export{ne as ReviewsComponent};
