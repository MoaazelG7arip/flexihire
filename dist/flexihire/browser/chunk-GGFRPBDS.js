import{a as Ce}from"./chunk-ZKM4LLLM.js";import{a as _e,b as ke,d as we,g as L,h as E,j as _,k as M}from"./chunk-DM5JJDLR.js";import{a as pe}from"./chunk-W3UWONK4.js";import{c as he,e as ge,j as xe,v as be}from"./chunk-VT7537MC.js";import{a as ve}from"./chunk-IMCIWAYF.js";import{a as ue}from"./chunk-IXTKUC53.js";import{a as fe}from"./chunk-NCQ4MMQJ.js";import"./chunk-NUY3BYMQ.js";import{d as ce,f as de,g as R,h as U,i as me}from"./chunk-KBS3EZNC.js";import{h as le,i as D,j as z,l as j,n as T}from"./chunk-SBNREMTY.js";import{$ as w,Bb as ee,Cb as te,Db as ie,Fb as r,Gb as C,Hb as S,Kb as ne,Lb as oe,Mb as ae,Na as J,Oa as Q,Ob as x,Qb as re,Sa as G,Tb as A,Ua as s,Ub as H,V as W,Va as B,Vb as se,ba as g,db as p,ea as Y,eb as X,fb as m,hb as O,jb as h,kb as q,l as P,la as b,lb as K,ma as v,mb as Z,na as N,nb as i,oa as V,ob as n,pb as c,sb as y,ta as I,vb as f,wa as $,wb as u}from"./chunk-IC3SXG5R.js";var Ie=t=>({"bg-custom-blue/30 hover:!bg-dark-blue/30":t});function Be(t,l){if(t&1){let e=y();i(0,"button",31),f("click",function(){b(e);let o=u().$implicit,d=u();return v(d.onSeeNotification(o.id))}),r(1,"Seen"),n()}}function Oe(t,l){if(t&1){let e=y();i(0,"li",29)(1,"p",42),r(2),n(),i(3,"p",43),r(4),A(5,"date"),n(),i(6,"div",44),p(7,Be,2,0,"button",45),i(8,"button",31),f("click",function(){let o=b(e).$implicit,d=u();return v(d.onDeleteNotification(o.id))}),r(9,"Delete"),n()()()}if(t&2){let e=l.$implicit;m("ngClass",re(6,Ie,!e.read_at)),s(2),C(e.data.message),s(2),C(H(5,4,e.created_at)),s(3),h(e.read_at?-1:7)}}function Ae(t,l){if(t&1&&c(0,"img",33),t&2){let e=u();m("src",e.image_url,Q)}}function Le(t,l){if(t&1&&(i(0,"div",34),r(1),n()),t&2){let e=u();s(),C(e.user.user.first_name[0].toUpperCase()+e.user.user.last_name[0].toUpperCase())}}function Pe(t,l){if(t&1&&(i(0,"button",37),r(1,"My Account"),n()),t&2){let e=u();m("routerLink","/page/users/"+(e.user==null||e.user.user==null?null:e.user.user.id))}}function He(t,l){if(t&1&&(i(0,"button",37),r(1,"My Account"),n()),t&2){let e=u();m("routerLink","/page/companies/"+(e.user==null||e.user.user==null?null:e.user.user.id))}}var Se=(()=>{class t{user;loggedIn=!1;image_url=null;onloading=new I;loading=!1;onNotification=new I;notification={isFound:!1,message:"",status:""};allNotifications=[];unreadCount=null;authService=w(ue);informationService=w(Ce);router=w(R);ngOnInit(){we({Collapse:ke,Dropdown:_e});let e=JSON.parse(localStorage.getItem("user"));e&&(this.loggedIn=!0,this.authService.user.subscribe(a=>{a&&(this.user=a,this.image_url=a.user.image_url)})),console.log(e),this.fetchNotifications()}fetchNotifications(){this.loading=!0,this.onloading.emit(this.loading),this.informationService.onGetNotifications().subscribe({next:e=>{console.log(e),this.allNotifications=e.notifications,this.unreadCount=e.unread_count,this.loading=!1,this.onloading.emit(this.loading)},error:e=>{console.error(e),this.loading=!1,this.onloading.emit(this.loading),this.notification={isFound:!0,message:e.error.message,status:"alert"},this.onNotification.emit(this.notification),setTimeout(()=>{this.notification={isFound:!1,message:"",status:""},this.onNotification.emit(this.notification)},3500)}})}onSeeNotification(e){let a=this.allNotifications.findIndex(o=>o.id===e);this.informationService.onSeeNotification(e).subscribe({next:o=>{console.log(o),a!==-1&&(this.allNotifications[a].read_at=!0,this.unreadCount=Math.max(0,(this.unreadCount||1)-1)),this.notification={isFound:!0,message:o.message||"Notification marked as read",status:"success"},this.onNotification.emit(this.notification),setTimeout(()=>{this.notification={isFound:!1,message:"",status:""},this.onNotification.emit(this.notification)},3500)},error:o=>{console.error(o),this.notification={isFound:!0,message:o.error.message,status:"alert"},this.onNotification.emit(this.notification),setTimeout(()=>{this.notification={isFound:!1,message:"",status:""},this.onNotification.emit(this.notification)},3500)}})}onDeleteNotification(e){let a=this.allNotifications.findIndex(o=>o.id===e);this.informationService.onDeleteNotification(e).subscribe({next:o=>{console.log(o),this.allNotifications=this.allNotifications.filter(d=>d.id!==e),this.unreadCount=o.unread_count,this.notification={isFound:!0,message:o.message||"Notification marked as read",status:"success"},this.onNotification.emit(this.notification),setTimeout(()=>{this.notification={isFound:!1,message:"",status:""},this.onNotification.emit(this.notification)},3500)},error:o=>{console.error(o),this.notification={isFound:!0,message:o.error.message,status:"alert"},this.onNotification.emit(this.notification),setTimeout(()=>{this.notification={isFound:!1,message:"",status:""},this.onNotification.emit(this.notification)},3500)}})}onSeeAllNotifications(){this.informationService.onSeeAllNotification().subscribe({next:e=>{console.log(e),this.allNotifications.forEach(a=>{a.read_at=!0}),this.unreadCount=0,this.notification={isFound:!0,message:e.message||"Notifications marked as read",status:"success"},this.onNotification.emit(this.notification),setTimeout(()=>{this.notification={isFound:!1,message:"",status:""},this.onNotification.emit(this.notification)},3500)},error:e=>{console.error(e),this.notification={isFound:!0,message:e.error.message,status:"alert"},this.onNotification.emit(this.notification),setTimeout(()=>{this.notification={isFound:!1,message:"",status:""},this.onNotification.emit(this.notification)},3500)}})}onDeleteAllNotifications(){this.informationService.onDeleteAllNotification().subscribe({next:e=>{console.log(e),this.allNotifications=[],this.unreadCount=0,this.notification={isFound:!0,message:e.message||"Notification marked as read",status:"success"},this.onNotification.emit(this.notification),setTimeout(()=>{this.notification={isFound:!1,message:"",status:""},this.onNotification.emit(this.notification)},3500)},error:e=>{console.error(e),this.notification={isFound:!0,message:e.error.message,status:"alert"},this.onNotification.emit(this.notification),setTimeout(()=>{this.notification={isFound:!1,message:"",status:""},this.onNotification.emit(this.notification)},3500)}})}onLogout(){this.loading=!0,this.onloading.emit(this.loading),JSON.parse(localStorage.getItem("user"))&&this.authService.onLogout().subscribe({next:a=>{console.log(a),this.loading=!1,this.onloading.emit(this.loading),localStorage.removeItem("user"),this.authService.user.next(null),this.loggedIn=!1,this.router.navigate(["/auth/welcome"]),this.notification={isFound:!0,message:a.message||"Login Successfully",status:"success"},this.onNotification.emit(this.notification),setTimeout(()=>{this.notification={isFound:!1,message:"",status:""},this.onNotification.emit(this.notification)},3500)},error:a=>{console.error(a),this.loading=!1,localStorage.removeItem("user"),this.authService.user.next(null),this.loggedIn=!1,this.router.navigate(["/auth/welcome"]),this.onloading.emit(this.loading),this.notification={isFound:!0,message:a.error.message,status:"alert"},this.onNotification.emit(this.notification),setTimeout(()=>{this.notification={isFound:!1,message:"",status:""},this.onNotification.emit(this.notification)},3500)}})}static \u0275fac=function(a){return new(a||t)};static \u0275cmp=g({type:t,selectors:[["app-header"]],outputs:{onloading:"onloading",onNotification:"onNotification"},standalone:!0,features:[x],decls:69,vars:3,consts:[[1,"flex-no-wrap","relative","flex","w-full","items-center","justify-between","bg-white/70","py-3","shadow-dark-mild","lg:flex-wrap","lg:justify-start","lg:py-4"],[1,"flex","w-full","flex-wrap","items-center","justify-between","px-3"],["type","button","data-twe-collapse-init","","data-twe-target","#navbarSupportedContent1","aria-controls","navbarSupportedContent1","aria-expanded","false","aria-label","Toggle navigation",1,"block","border-0","bg-transparent","px-2","text-black/50","hover:no-underline","hover:shadow-none","focus:no-underline","focus:shadow-none","focus:outline-none","focus:ring-0","dark:text-black","lg:hidden"],[1,"[&>svg]:w-7","[&>svg]:stroke-black/50","dark:[&>svg]:stroke-black"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor"],["fill-rule","evenodd","d","M3 6.75A.75.75 0 013.75 6h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 6.75zM3 12a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 12zm0 5.25a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75a.75.75 0 01-.75-.75z","clip-rule","evenodd"],["id","navbarSupportedContent1","data-twe-collapse-item","",1,"!visible","hidden","flex-grow","basis-[100%]","items-center","lg:!flex","lg:basis-auto"],["href","#",1,"mb-4","me-10","ms-2","mt-3","font-bold","flex","items-center","text-neutral-900","hover:text-neutral-900","focus:text-neutral-900","dark:text-dark-blue","dark:hover:text-dark-blue","dark:focus:text-dark-blue","lg:mb-0","lg:mt-0"],["src","photo/dark-logo.png","alt","TE Logo","loading","lazy",2,"height","40px"],["data-twe-navbar-nav-ref","",1,"list-style-none","me-auto","flex","flex-col","ps-0","lg:flex-row"],["data-twe-nav-item-ref","",1,"mb-4","lg:mb-0","lg:pe-2"],["routerLink","/page/home","routerLinkActive","font-bold dark:text-black","data-twe-nav-link-ref","",1,"text-black/60","transition","duration-200","hover:text-black/80","hover:ease-in-out","focus:text-black/80","active:text-black/80","motion-reduce:transition-none","dark:text-black/60","dark:hover:text-black/80","dark:focus:text-black/80","dark:active:text-black/80","lg:px-2"],["routerLink","/page/companies","routerLinkActive","font-bold dark:text-black","data-twe-nav-link-ref","",1,"text-black/60","transition","duration-200","hover:text-black/80","hover:ease-in-out","focus:text-black/80","active:text-black/80","motion-reduce:transition-none","dark:text-black/60","dark:hover:text-black/80","dark:focus:text-black/80","dark:active:text-black/80","lg:px-2"],["routerLink","/page/users","routerLinkActive","font-bold dark:text-black","data-twe-nav-link-ref","",1,"text-black/60","transition","duration-200","hover:text-black/80","hover:ease-in-out","focus:text-black/80","active:text-black/80","motion-reduce:transition-none","dark:text-black/60","dark:hover:text-black/80","dark:focus:text-black/80","dark:active:text-black/80","lg:px-2"],["routerLink","/page/jobs","routerLinkActive","font-bold dark:text-black","data-twe-nav-link-ref","",1,"text-black/60","transition","duration-200","hover:text-black/80","hover:ease-in-out","focus:text-black/80","active:text-black/80","motion-reduce:transition-none","dark:text-black/60","dark:hover:text-black/80","dark:focus:text-black/80","dark:active:text-black/80","lg:px-2"],["routerLink","/page/aboutUs","routerLinkActive","font-bold dark:text-black","data-twe-nav-link-ref","",1,"text-black/60","transition","duration-200","hover:text-black/80","hover:ease-in-out","focus:text-black/80","active:text-black/80","motion-reduce:transition-none","dark:text-black/60","dark:hover:text-black/80","dark:focus:text-black/80","dark:active:text-black/80","lg:px-2"],["routerLink","/page/contactUs","routerLinkActive","font-bold dark:text-black","data-twe-nav-link-ref","",1,"text-black/60","transition","duration-200","hover:text-black/80","hover:ease-in-out","focus:text-black/80","active:text-black/80","motion-reduce:transition-none","dark:text-black/60","dark:hover:text-black/80","dark:focus:text-black/80","dark:active:text-black/80","lg:px-2"],[1,"relative","flex","items-center"],["data-twe-dropdown-ref","","data-twe-dropdown-alignment","end",1,"relative"],["href","#","id","dropdownMenuButton1","role","button","data-twe-dropdown-toggle-ref","","aria-expanded","false",1,"me-4","flex","items-center","text-neutral-600"],[1,"[&>svg]:w-5"],["src","photo/notification.png","alt","",1,"w-7"],[1,"absolute","mt-[1.5rem]","ms-[1.2rem]","rounded-full","bg-danger","px-[0.35em]","py-[0.15em]","text-[0.6rem]","font-bold","leading-none","text-white"],["aria-labelledby","dropdownMenuButton1","data-twe-dropdown-menu-ref","",1,"absolute","z-[1000]","float-left","m-0","hidden","w-[350px]","h-[35rem]","list-none","overflow-auto","rounded-xl","border-none","bg-clip-padding","text-left","text-base","shadow-dark-1","data-[twe-dropdown-show]:flex","bg-white","p-5","data-[twe-dropdown-show]:flex-col"],[1,"flex","justify-between","items-center","border-b-[1px]","border-black/20","pb-2","mb-2","text-xl"],[1,"font-bold","text-[#62AFC6]"],["data-twe-dropdown-close-ref","",1,"ms-auto","me-2","mt-2","text-gray-600","hover:text-neutral-900"],["fill-rule","evenodd","d","M6.22 4.22a.75.75 0 011.06 0L12 8.94l4.72-4.72a.75.75 0 111.06 1.06L13.06 10l4.72 4.72a.75.75 0 01-1.06 1.06L12 11.06l-4.72 4.72a.75.75 0 01-1.06-1.06L10.94 10l-4.72-4.72a.75.75 0 010-1.06z","clip-rule","evenodd"],[1,"flex-1","overflow-auto"],[1,"p-3","my-3","border","rounded-lg","hover:bg-gray-50",3,"ngClass"],[1,"flex","justify-around","items-center","border-t-[1px]","border-black/20","pt-5","mt-2"],["type","button",1,"bg-custom-blue","hover:bg-dark-blue","text-white","px-5","py-2","rounded-sm",3,"click"],["href","#","id","dropdownMenuButton2","role","button","data-twe-dropdown-toggle-ref","","aria-expanded","false",1,"flex","items-center","whitespace-nowrap","transition","duration-150","ease-in-out","motion-reduce:transition-none"],["alt","","loading","lazy",1,"rounded-full",2,"height","25px","width","25px",3,"src"],[1,"min-w-[25px]","min-h-[25px]","max-w-[25px]","max-h-[25px]","rounded-full","bg-gray-200","flex","items-center","justify-center","text-sm","font-semibold","text-gray-600"],["aria-labelledby","dropdownMenuButton2","data-twe-dropdown-menu-ref","",1,"absolute","z-[1000]","float-left","m-0","hidden","min-w-max","list-none","overflow-hidden","rounded-sm","border-2","bg-white","bg-clip-padding","text-left","text-base","shadow-md","shadow-black/20","data-[twe-dropdown-show]:flex","data-[twe-dropdown-show]:flex-col"],[1,"w-52","border-b-[1px]","border-black/20"],["data-twe-dropdown-item-ref","",1,"block","w-full","text-start","whitespace-nowrap","bg-white","px-4","hover:px-7","transition-all","py-2","font-normal","text-lg","text-neutral-700","hover:bg-gray-100","focus:bg-zinc-200/60","focus:outline-none","active:bg-zinc-200/60","active:no-underline",3,"routerLink"],["data-twe-dropdown-item-ref","","routerLink","/page/account",1,"block","w-full","text-start","whitespace-nowrap","bg-white","px-4","hover:px-7","transition-all","py-2","font-normal","text-lg","text-neutral-700","hover:bg-gray-100","focus:bg-zinc-200/60","focus:outline-none","active:bg-zinc-200/60","active:no-underline"],["routerLink","/page/real-chat","data-twe-dropdown-item-ref","",1,"block","w-full","text-start","whitespace-nowrap","bg-white","px-4","hover:px-7","transition-all","py-2","font-normal","text-lg","text-neutral-700","hover:bg-gray-100","focus:bg-zinc-200/60","focus:outline-none","active:bg-zinc-200/60","active:no-underline"],[1,"w-52"],["data-twe-dropdown-item-ref","",1,"block","w-full","text-start","whitespace-nowrap","bg-white","px-4","hover:px-7","transition-all","py-2","font-normal","text-lg","text-neutral-700","hover:bg-gray-100","focus:bg-zinc-200/60","focus:outline-none","active:bg-zinc-200/60","active:no-underline",3,"click"],[1,"font-semibold"],[1,"text-sm","text-gray-400"],[1,"flex","justify-end","space-x-4","pt-5","text-sm"],["type","button",1,"bg-custom-blue","hover:bg-dark-blue","text-white","px-5","py-2","rounded-sm"]],template:function(a,o){a&1&&(i(0,"nav",0)(1,"div",1)(2,"button",2)(3,"span",3),N(),i(4,"svg",4),c(5,"path",5),n()()(),V(),i(6,"div",6)(7,"a",7),c(8,"img",8),r(9,"FLEXIHIRE "),n(),i(10,"ul",9)(11,"li",10)(12,"a",11),r(13,"Home"),n()(),i(14,"li",10)(15,"a",12),r(16,"Companies"),n()(),i(17,"li",10)(18,"a",13),r(19,"Users"),n()(),i(20,"li",10)(21,"a",14),r(22,"All Jobs"),n()(),i(23,"li",10)(24,"a",15),r(25,"About Us"),n()(),i(26,"li",10)(27,"a",16),r(28,"Contact Us"),n()()()(),i(29,"div",17)(30,"div",18)(31,"a",19)(32,"span",20),c(33,"img",21),n(),i(34,"span",22),r(35),n()(),i(36,"div",23)(37,"div",24)(38,"h2",25),r(39,"Notifications"),n(),i(40,"button",26)(41,"span",20),N(),i(42,"svg",4),c(43,"path",27),n()()()(),V(),i(44,"ul",28),K(45,Oe,10,8,"li",29,q),n(),i(47,"div",30)(48,"button",31),f("click",function(){return o.onSeeAllNotifications()}),r(49,"Seen All"),n(),i(50,"button",31),f("click",function(){return o.onDeleteAllNotifications()}),r(51,"Delete All"),n()()()(),i(52,"div",18)(53,"a",32),p(54,Ae,1,1,"img",33)(55,Le,2,1,"div",34),n(),i(56,"ul",35)(57,"li",36),p(58,Pe,2,1,"button",37)(59,He,2,1,"button",37),n(),i(60,"li",36)(61,"button",38),r(62,"Update Account"),n()(),i(63,"li",36)(64,"button",39),r(65,"Chat"),n()(),i(66,"li",40)(67,"button",41),f("click",function(){return o.onLogout()}),r(68,"Logout"),n()()()()()()()),a&2&&(s(35),C(o.unreadCount),s(10),Z(o.allNotifications),s(9),h(o.image_url?54:55),s(4),h((o.user==null||o.user.user==null?null:o.user.user.roles[0])=="user"?58:59))},dependencies:[U,me,T,le,j]})}return t})();var Te=(()=>{class t{sanitizer;constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustHtml(e)}static \u0275fac=function(a){return new(a||t)(B(ce,16))};static \u0275pipe=Y({name:"keepHTML",type:t,pure:!0,standalone:!0})}return t})();function De(t,l){if(t&1&&(i(0,"span"),r(1),n()),t&2){let e=l.$implicit;m("@wordAnimation",void 0),s(),S("",e," ")}}function ze(t,l){t&1&&(i(0,"span",3),r(1,"|"),n())}var Ee=(()=>{class t{text="";speed=200;delay=0;contentUpdated=new I;displayedText="";words=[];currentIndex=0;animationTimeout;ngOnInit(){this.words=this.text.split(" "),setTimeout(()=>this.animateText(),this.delay)}ngOnDestroy(){this.animationTimeout&&clearTimeout(this.animationTimeout)}animateText(){this.currentIndex<this.words.length&&(this.displayedText+=(this.currentIndex>0?" ":"")+this.words[this.currentIndex],this.currentIndex++,this.contentUpdated.emit(),this.animationTimeout=setTimeout(()=>this.animateText(),this.speed))}restartAnimation(){this.displayedText="",this.currentIndex=0,this.animateText()}static \u0275fac=function(a){return new(a||t)};static \u0275cmp=g({type:t,selectors:[["app-animated-text"]],inputs:{text:"text",speed:"speed",delay:"delay"},outputs:{contentUpdated:"contentUpdated"},standalone:!0,features:[x],decls:3,vars:2,consts:[[1,"animated-text"],[4,"ngFor","ngForOf"],["class","cursor",4,"ngIf"],[1,"cursor"]],template:function(a,o){a&1&&(i(0,"div",0),p(1,De,2,2,"span",1)(2,ze,2,0,"span",2),n()),a&2&&(s(),m("ngForOf",o.displayedText.split(" ")),s(),m("ngIf",o.currentIndex<o.words.length))},dependencies:[T,D,z],styles:[".cursor[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blink 1s step-end infinite}@keyframes _ngcontent-%COMP%_blink{0%,to{opacity:1}50%{opacity:0}}"],data:{animation:[L("wordAnimation",[M(":enter",[_({opacity:0,transform:"translateY(20px)"}),E("300ms ease-out",_({opacity:1,transform:"translateY(0)"}))])])]}})}return t})();var Me=(()=>{class t{ws;reconnectAttempts=0;maxReconnectAttempts=5;reconnectDelay=1e3;onMessage=new P;onError=new P;onThinking=new P;baseApi="7dc0ebd1a413.ngrok-free.app";constructor(){this.connect()}connect(){try{this.ws=new WebSocket(`wss://${this.baseApi}/ws/user_${Date.now()}`),this.ws.onopen=()=>{console.log("Connected to chatbot"),this.reconnectAttempts=0},this.ws.onmessage=e=>{try{let a=JSON.parse(e.data);console.log(a),this.onMessage.next(a.content)}catch{this.onError.next("Failed to parse server response")}},this.ws.onclose=()=>{this.handleReconnect()},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.onError.next("Connection error occurred")}}catch{this.onError.next("Failed to establish connection")}}handleReconnect(){this.reconnectAttempts<this.maxReconnectAttempts?(this.reconnectAttempts++,setTimeout(()=>{console.log(`Reconnecting... (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),this.connect()},this.reconnectDelay*this.reconnectAttempts)):this.onError.next("Connection lost. Please refresh the page.")}sendMessage(e){this.ws.readyState===WebSocket.OPEN?this.ws.send(JSON.stringify({content:e.trim()})):this.onError.next("Not connected. Please wait...")}disconnect(){this.ws?.close()}static \u0275fac=function(a){return new(a||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Re=["scrollContainer"];function Ue(t,l){t&1&&c(0,"div",8)}function Ve(t,l){t&1&&(N(),i(0,"svg",9),c(1,"path",10),n())}function We(t,l){t&1&&(i(0,"figure",11),c(1,"img",12),n())}function Ye(t,l){if(t&1&&(c(0,"span",30),A(1,"keepHTML")),t&2){let e=u().$implicit;m("innerHTML",H(1,1,e.text),J)}}function $e(t,l){if(t&1){let e=y();i(0,"app-animated-text",33),f("contentUpdated",function(){b(e);let o=u(3);return v(o.scrollToBottom())}),n()}if(t&2){let e=u().$implicit;m("text",e.text)("speed",150)("delay",500)}}function Je(t,l){if(t&1&&(i(0,"div",27)(1,"div",28)(2,"div",29),p(3,Ye,2,3,"span",30)(4,$e,1,3,"app-animated-text",31),n(),i(5,"div",32),r(6),A(7,"date"),n()()()),t&2){let e=l.$implicit;O("justify-end",e.sender==="user"),m("@messageAnimation",void 0),s(),O("bg-gray-200",e.sender==="user")("shadow-sm",e.sender==="bot"),s(2),h(e.sender==="user"?3:e.sender==="bot"?4:-1),s(3),S(" ",se(7,9,e.timestamp,"shortTime")," ")}}function Qe(t,l){t&1&&(i(0,"div",34),c(1,"div",35),n())}function Ge(t,l){if(t&1){let e=y();i(0,"div",13),f("click",function(o){return b(e),v(o.stopPropagation())}),i(1,"div",14)(2,"div",15),c(3,"img",16),i(4,"div",17)(5,"h2",18),r(6,"FlexiBot"),n(),i(7,"span",19),r(8,"Online \u2022 Ready to help"),n()()(),i(9,"div",20,0)(11,"div",21),p(12,Je,8,12,"div",22)(13,Qe,2,0,"div",23),n()(),i(14,"div",24)(15,"input",25),ae("ngModelChange",function(o){b(e);let d=u();return oe(d.newMessage,o)||(d.newMessage=o),v(o)}),f("keyup.enter",function(){b(e);let o=u();return v(o.sendMessage())}),n(),i(16,"button",26),f("click",function(){b(e);let o=u();return v(o.sendMessage())}),r(17," \u27A4 "),n()()()()}if(t&2){let e=u();m("@chatWindow",void 0),s(12),m("ngForOf",e.messages),s(),m("ngIf",e.isTyping),s(),O("animate-shake",e.showInputError),s(),ne("ngModel",e.newMessage)}}var Fe=(()=>{class t{elementRef;websocketService;scrollContainer;messages=[];newMessage="";isOpen=!1;isTyping=!1;showInputError=!1;randomStr=Math.random().toString(36).substring(2,6);currentBotMessage=null;wsSubscriptions=[];constructor(e,a){this.elementRef=e,this.websocketService=a}ngOnInit(){this.addBotMessage("Hello! How can I help you today?"),this.setupWebSocketListeners()}ngOnDestroy(){this.wsSubscriptions.forEach(e=>e.unsubscribe()),this.websocketService.disconnect()}setupWebSocketListeners(){this.wsSubscriptions.push(this.websocketService.onThinking.subscribe(()=>{this.isTyping=!0,this.scrollToBottom()}),this.websocketService.onMessage.subscribe(e=>{this.handleBotResponse(e)}),this.websocketService.onError.subscribe(e=>{this.isTyping=!1,this.addBotMessage(e),this.currentBotMessage=null,this.scrollToBottom()}))}toggleChat(){this.isOpen=!this.isOpen,this.isOpen&&setTimeout(()=>this.scrollToBottom(),100)}sendMessage(){let e=this.newMessage.trim();if(!e){this.showInputError=!0,setTimeout(()=>this.showInputError=!1,500);return}this.addUserMessage(e),this.websocketService.sendMessage(e),this.isTyping=!0,this.currentBotMessage=null,this.newMessage=""}addUserMessage(e){this.messages.push({text:e,sender:"user",timestamp:new Date}),this.scrollToBottom()}addBotMessage(e){this.messages.push({text:e,sender:"bot",timestamp:new Date}),this.scrollToBottom()}handleBotResponse(e){this.currentBotMessage?this.currentBotMessage.text+=e:(this.currentBotMessage={text:e,sender:"bot",timestamp:new Date},this.messages.push(this.currentBotMessage)),this.isTyping=!1,this.scrollToBottom()}scrollToBottom(){try{setTimeout(()=>{this.scrollContainer?.nativeElement&&(this.scrollContainer.nativeElement.scrollTop=this.scrollContainer.nativeElement.scrollHeight)},100)}catch(e){console.error("Scroll error:",e)}}handleClickOutside(e){if(!this.isOpen)return;let a=this.elementRef.nativeElement.querySelector(".chat-window"),o=this.elementRef.nativeElement.querySelector(".fab-button"),d=a?.contains(e.target),k=o?.contains(e.target);!d&&!k&&(this.isOpen=!1)}static \u0275fac=function(a){return new(a||t)(B($),B(Me))};static \u0275cmp=g({type:t,selectors:[["app-chat-bot"]],viewQuery:function(a,o){if(a&1&&ee(Re,5),a&2){let d;te(d=ie())&&(o.scrollContainer=d.first)}},hostBindings:function(a,o){a&1&&f("click",function(k){return o.handleClickOutside(k)},!1,G)},standalone:!0,features:[x],decls:7,vars:6,consts:[["scrollContainer",""],["class","fixed inset-0 bg-black/10 backdrop-blur-sm z-40",4,"ngIf"],[1,"fixed","bottom-16","right-8","z-50"],[1,"fab-button","w-16","h-16","rounded-full","bg-custom-blue","text-white","flex","items-center","justify-center","shadow-lg","hover:bg-dark-blue","transition-all","duration-300","hover:scale-110","[&.open]:scale-90","[&.open]:bg-white","[&.open]:hover:bg-gray-100","[&.open]:text-black","[&.open]:opacity-100","opacity-75",3,"click"],["class","w-8 h-8","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","w-8 h-8",4,"ngIf"],["class","chat-window fixed bottom-32 right-8 w-3/4 sm:w-96 max-w-full h-[550px] max-h-[70vh] bg-[#F4F9FA] rounded-xl shadow-xl border border-gray-100",3,"click",4,"ngIf"],[1,"dot-elastic"],[1,"fixed","inset-0","bg-black/10","backdrop-blur-sm","z-40"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"w-8","h-8"],["src","photo/chatbot.png","alt",""],[1,"chat-window","fixed","bottom-32","right-8","w-3/4","sm:w-96","max-w-full","h-[550px]","max-h-[70vh]","bg-[#F4F9FA]","rounded-xl","shadow-xl","border","border-gray-100",3,"click"],[1,"flex","flex-col","h-full"],[1,"flex","items-center","p-4","bg-custom-blue","text-white","rounded-t-xl"],["src","photo/chatbot2.jpg","alt","",1,"inline-block","object-cover","w-10","h-10","rounded-full"],[1,"ml-4","flex","flex-col"],[1,"text-xl","font-semibold"],[1,"text-sm"],[1,"flex-1","p-4","overflow-y-auto","bg-[#F4F9FA]"],[1,"space-y-3"],["class","flex",3,"justify-end",4,"ngFor","ngForOf"],["class","flex space-x-2 justify-start w-fit p-3 pt-5 rounded-2xl transition-all duration-200 bg-gray-100",4,"ngIf"],[1,"flex","bg-white","m-3","rounded-[3rem]","border-2","border-custom-blue","focus:outline-none","transition-all"],["type","text","placeholder","Type your message...",1,"!border-none","!p-0","!m-0","!ms-4",3,"ngModelChange","keyup.enter","ngModel"],[1,"text-white","w-28","rounded-[3rem]","bg-custom-blue","hover:bg-dark-blue",3,"click"],[1,"flex"],[1,"max-w-[80%]","p-3","rounded-2xl","transition-all","duration-200","bg-custom-blue"],[1,"text-sm","leading-relaxed"],[3,"innerHTML"],[3,"text","speed","delay"],[1,"mt-1","text-xs","opacity-70"],[3,"contentUpdated","text","speed","delay"],[1,"flex","space-x-2","justify-start","w-fit","p-3","pt-5","rounded-2xl","transition-all","duration-200","bg-gray-100"],[1,"loader"]],template:function(a,o){a&1&&(p(0,Ue,1,0,"div",1),i(1,"div",2)(2,"button",3),f("click",function(){return o.toggleChat()}),p(3,Ve,2,0,"svg",4)(4,We,2,0,"figure",5),n(),p(5,Ge,18,6,"div",6),n(),c(6,"div",7)),a&2&&(m("ngIf",o.isOpen),s(2),O("open",o.isOpen),s(),m("ngIf",o.isOpen),s(),m("ngIf",!o.isOpen),s(),m("ngIf",o.isOpen))},dependencies:[T,D,z,j,be,he,ge,xe,Te,Ee],styles:["@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(5px)}75%{transform:translate(-5px)}}.animate-shake[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake .3s ease-in-out}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a1a1a1}.fab-enter-active[_ngcontent-%COMP%], .fab-leave-active[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.fab-enter-from[_ngcontent-%COMP%], .fab-leave-to[_ngcontent-%COMP%]{transform:scale(0) rotate(-180deg);opacity:0}.fixed[_ngcontent-%COMP%]{z-index:9999}.backdrop[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.loader[_ngcontent-%COMP%]{width:60px;aspect-ratio:2;--_g: no-repeat radial-gradient(circle closest-side,#1c94ef 90%,#0000);background:var(--_g) 0% 50%,var(--_g) 50% 50%,var(--_g) 100% 50%;background-size:calc(100%/3) 50%;animation:_ngcontent-%COMP%_l3 1s infinite linear}@keyframes _ngcontent-%COMP%_l3{20%{background-position:0% 0%,50% 50%,100% 50%}40%{background-position:0% 100%,50% 0%,100% 50%}60%{background-position:0% 50%,50% 100%,100% 0%}80%{background-position:0% 50%,50% 50%,100% 100%}}.animate-pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s cubic-bezier(.4,0,.6,1) infinite}.delay-100[_ngcontent-%COMP%]{animation-delay:.1s}.delay-200[_ngcontent-%COMP%]{animation-delay:.2s}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}"],data:{animation:[L("messageAnimation",[M(":enter",[_({opacity:0,transform:"translateY(20px)"}),E("200ms ease-out",_({opacity:1,transform:"translateY(0)"}))])]),L("chatWindow",[M(":enter",[_({transform:"scale(0.5) translateY(20px)",opacity:0}),E("200ms cubic-bezier(0.4, 0, 0.2, 1)",_({transform:"scale(1) translateY(0)",opacity:1}))]),M(":leave",[E("150ms cubic-bezier(0.4, 0, 0.2, 1)",_({transform:"scale(0.5) translateY(20px)",opacity:0}))])])]}})}return t})();var Ne=(()=>{class t{currentYear=new Date().getFullYear();static \u0275fac=function(a){return new(a||t)};static \u0275cmp=g({type:t,selectors:[["app-footer"]],standalone:!0,features:[x],decls:71,vars:1,consts:[[1,"max-w-full","mx-auto","rounded-lg","bg-[#E9F3F6]","text-[#003B57]","p-6","md:p-10","flex","flex-col","gap-8"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-6","text-sm"],[1,"font-bold","text-lg","mb-2"],[1,"space-y-1"],["routerLink","/page/home",1,"hover:underline"],["routerLink","/page/contactUs",1,"hover:underline"],["routerLink","/page/aboutUs",1,"hover:underline"],["routerLink","/page/jobs",1,"hover:underline"],["routerLink","/page/users",1,"hover:underline"],["routerLink","/page/companies",1,"hover:underline"],[1,"flex","flex-col"],[1,"flex","gap-4","text-2xl"],["aria-label","Facebook",1,"hover:text-blue-600"],[1,"fab","fa-facebook"],["aria-label","Instagram",1,"hover:text-pink-500"],[1,"fab","fa-instagram"],["aria-label","X",1,"hover:text-gray-700"],[1,"fab","fa-x-twitter"],[1,"flex","flex-col","gap-2","items-center"],[1,"flex","flex-wrap","justify-center","gap-2","text-xs"],[1,"hover:underline"],[1,"hidden","md:inline"],[1,"text-center","text-xs","mt-2"]],template:function(a,o){a&1&&(i(0,"footer")(1,"div",0)(2,"div",1)(3,"div")(4,"h3",2),r(5,"FLEXIHIRE"),n(),i(6,"ul",3)(7,"li")(8,"a",4),r(9,"Home"),n()(),i(10,"li")(11,"a",5),r(12,"Contact Us"),n()(),i(13,"li")(14,"a",6),r(15,"About Us"),n()()()(),i(16,"div")(17,"h3",2),r(18,"Search"),n(),i(19,"ul",3)(20,"li")(21,"a",7),r(22,"Job Search"),n()(),i(23,"li")(24,"a",8),r(25,"For Seekers"),n()(),i(26,"li")(27,"a",9),r(28,"For Companies"),n()()()(),i(29,"div")(30,"h3",2),r(31,"Quick Links"),n(),i(32,"ul",3)(33,"li")(34,"a",4),r(35,"Saved Jobs"),n()(),i(36,"li")(37,"a",4),r(38,"Top Companies"),n()()()(),i(39,"div",10)(40,"h3",2),r(41,"Social Media"),n(),i(42,"div",11)(43,"a",12),c(44,"i",13),n(),i(45,"a",14),c(46,"i",15),n(),i(47,"a",16),c(48,"i",17),n()()()(),i(49,"div",18)(50,"div",19)(51,"a",20),r(52,"Privacy Policy"),n(),i(53,"span",21),r(54,"|"),n(),i(55,"a",20),r(56,"Terms of Service"),n(),i(57,"span",21),r(58,"|"),n(),i(59,"a",20),r(60,"Accessibility Statement"),n(),i(61,"span",21),r(62,"|"),n(),i(63,"a",20),r(64,"Cookie Policy"),n(),i(65,"span",21),r(66,"|"),n(),i(67,"a",20),r(68,"Supplier Code of Conduct"),n()(),i(69,"div",22),r(70),n()()()()),a&2&&(s(70),S("\xA9 ",o.currentYear," FLEXIHIRE. All rights reserved."))},dependencies:[U]})}return t})();function Xe(t,l){if(t&1&&(i(0,"app-notification"),r(1),n()),t&2){let e=u();X("role",e.notification.status),s(),C(e.notification.message)}}function qe(t,l){t&1&&c(0,"app-loader")}function Ke(t,l){t&1&&(i(0,"div",2),c(1,"router-outlet"),n())}function Ze(t,l){t&1&&c(0,"app-chat-bot")}function et(t,l){t&1&&c(0,"app-footer")}var Dt=(()=>{class t{loading=!1;notification={isFound:!1,message:"",status:""};bridgeService=w(fe);router=w(R);ngOnInit(){}onloading(e){this.loading=e}onNotification(e){this.notification=e}get showFooter(){return!(this.router.url.includes("/page/real-chat")||this.router.url.includes("/rateUs"))}get showChatBot(){return!this.router.url.includes("/page/real-chat")}static \u0275fac=function(a){return new(a||t)};static \u0275cmp=g({type:t,selectors:[["app-page"]],standalone:!0,features:[x],decls:7,vars:4,consts:[[1,"cont"],[3,"onloading","onNotification"],[1,"content"]],template:function(a,o){a&1&&(p(0,Xe,2,2,"app-notification"),i(1,"div",0)(2,"app-header",1),f("onloading",function(k){return o.onloading(k)})("onNotification",function(k){return o.onNotification(k)}),n(),p(3,qe,1,0,"app-loader")(4,Ke,2,0,"div",2)(5,Ze,1,0,"app-chat-bot")(6,et,1,0,"app-footer"),n()),a&2&&(h(o.notification.isFound?0:-1),s(3),h(o.loading?3:4),s(2),h(o.showChatBot?5:-1),s(),h(o.showFooter?6:-1))},dependencies:[de,Se,ve,Fe,Ne,pe],styles:[".cont[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.content[_ngcontent-%COMP%]{flex-grow:1}"]})}return t})();export{Dt as PageComponent};
