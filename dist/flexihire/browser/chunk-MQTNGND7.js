import{a as W}from"./chunk-TSK5LNFT.js";import{a as A}from"./chunk-GHKKSTYY.js";import{a as D}from"./chunk-W3UWONK4.js";import{a as Oe,b as O,c as N,d as f,e as V,f as U,i as T,k as B,l as q,m as L,n as G,o as $,p as z,q as Y,r as H,s as K,u as Z,v as Ne,w as Q}from"./chunk-VT7537MC.js";import{a as J}from"./chunk-IMCIWAYF.js";import{a as Re}from"./chunk-NCQ4MMQJ.js";import"./chunk-NUY3BYMQ.js";import{e as Pe,g as Te,h as Ie}from"./chunk-KBS3EZNC.js";import{i as R,n as M,p as je}from"./chunk-SBNREMTY.js";import{$ as v,$a as Me,A as ne,Aa as Ee,Bb as Fe,Cb as De,Db as Je,Eb as I,F as pe,Fb as l,G as fe,Gb as E,Hb as C,M as be,Na as ke,Nb as Ae,Ob as k,P as oe,U as he,Ua as d,Va as S,W as ge,Y as xe,a as de,b as me,ba as w,ca as _e,da as ye,db as b,eb as F,fb as p,jb as _,kb as le,l as ce,la as h,lb as re,ma as g,mb as ae,na as ve,nb as i,oa as Se,ob as n,pb as u,sb as y,ta as a,ua as Ce,vb as x,wa as we,wb as c,y as ue}from"./chunk-IC3SXG5R.js";function Ke(t,s){}var X=()=>{let t=typeof window<"u"?window:void 0;return t&&t.tinymce?t.tinymce:null},Ze=(()=>{class t{constructor(){this.onBeforePaste=new a,this.onBlur=new a,this.onClick=new a,this.onContextMenu=new a,this.onCopy=new a,this.onCut=new a,this.onDblclick=new a,this.onDrag=new a,this.onDragDrop=new a,this.onDragEnd=new a,this.onDragGesture=new a,this.onDragOver=new a,this.onDrop=new a,this.onFocus=new a,this.onFocusIn=new a,this.onFocusOut=new a,this.onKeyDown=new a,this.onKeyPress=new a,this.onKeyUp=new a,this.onMouseDown=new a,this.onMouseEnter=new a,this.onMouseLeave=new a,this.onMouseMove=new a,this.onMouseOut=new a,this.onMouseOver=new a,this.onMouseUp=new a,this.onPaste=new a,this.onSelectionChange=new a,this.onActivate=new a,this.onAddUndo=new a,this.onBeforeAddUndo=new a,this.onBeforeExecCommand=new a,this.onBeforeGetContent=new a,this.onBeforeRenderUI=new a,this.onBeforeSetContent=new a,this.onChange=new a,this.onClearUndos=new a,this.onDeactivate=new a,this.onDirty=new a,this.onExecCommand=new a,this.onGetContent=new a,this.onHide=new a,this.onInit=new a,this.onInitNgModel=new a,this.onLoadContent=new a,this.onNodeChange=new a,this.onPostProcess=new a,this.onPostRender=new a,this.onPreInit=new a,this.onPreProcess=new a,this.onProgressState=new a,this.onRedo=new a,this.onRemove=new a,this.onReset=new a,this.onResizeEditor=new a,this.onSaveContent=new a,this.onSetAttrib=new a,this.onObjectResizeStart=new a,this.onObjectResized=new a,this.onObjectSelected=new a,this.onSetContent=new a,this.onShow=new a,this.onSubmit=new a,this.onUndo=new a,this.onVisualAid=new a}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),t})(),Ve=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],ee=(t,s,e)=>ne(t,s).pipe(oe(e)),Qe=(t,s,e)=>{We(t).forEach(r=>{let m=t[r];ee(s,r.substring(2),e).subscribe(ie=>{m.observers.length>0&&t.ngZone.run(()=>m.emit({event:ie,editor:s}))})})},We=t=>{let s=Ue(t.ignoreEvents,[]);return Ue(t.allowedEvents,Ve).filter(o=>Ve.includes(o)&&!s.includes(o))},Ue=(t,s)=>typeof t=="string"?t.split(",").map(e=>e.trim()):Array.isArray(t)?t:s,Be=0,Xe=t=>{let e=new Date().getTime(),o=Math.floor(Math.random()*1e9);return Be++,t+"_"+o+Be+String(e)},qe=t=>typeof t<"u"&&t.tagName.toLowerCase()==="textarea",Le=t=>typeof t>"u"||t===""?[]:Array.isArray(t)?t:t.split(" "),et=(t,s)=>Le(t).concat(Le(s)),tt=()=>{},Ge=t=>t==null,$e=()=>({script$:null}),it=()=>{let t=$e();return{load:(o,r)=>t.script$||(t.script$=ue(()=>{let m=o.createElement("script");return m.referrerPolicy="origin",m.type="application/javascript",m.src=r,o.head.appendChild(m),ne(m,"load").pipe(pe(1),fe(void 0))}).pipe(be({bufferSize:1,refCount:!0}))),reinitialize:()=>{t=$e()}}},nt=it(),ot=new xe("TINYMCE_SCRIPT_SRC"),lt={provide:Oe,useExisting:he(()=>j),multi:!0},j=(()=>{class t extends Ze{constructor(e,o,r,m){super(),this.platformId=r,this.tinymceScriptSrc=m,this.cloudChannel="6",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=tt,this.destroy$=new ce,this.initialise=()=>{let ie=me(de({},this.init),{selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,plugins:et(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:P=>{this._editor=P,ee(P,"init",this.destroy$).subscribe(()=>{this.initEditor(P)}),Qe(this,P,this.destroy$),this.init&&typeof this.init.setup=="function"&&this.init.setup(P)}});qe(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{X().init(ie)})},this._elementRef=e,this.ngZone=o}set disabled(e){this._disabled=e,this._editor&&this._editor.initialized&&(typeof this._editor.mode?.set=="function"?this._editor.mode.set(e?"readonly":"design"):this._editor.setMode(e?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(e){this._editor&&this._editor.initialized?this._editor.setContent(Ge(e)?"":e):this.initialValue=e===null?void 0:e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.disabled=e}ngAfterViewInit(){je(this.platformId)&&(this.id=this.id||Xe("tiny-angular"),this.inline=this.inline!==void 0?this.inline!==!1:!!this.init?.inline,this.createElement(),X()!==null?this.initialise():this._element&&this._element.ownerDocument&&nt.load(this._element.ownerDocument,this.getScriptSrc()).pipe(oe(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),X()!==null&&X().remove(this._editor)}createElement(){let e=typeof this.tagName=="string"?this.tagName:"div";this._element=document.createElement(this.inline?e:"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,qe(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}getScriptSrc(){return Ge(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(e){ee(e,"blur",this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.onTouchedCallback())}),ee(e,this.modelEvents,this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.emitOnChange(e))}),typeof this.initialValue=="string"&&this.ngZone.run(()=>{e.setContent(this.initialValue),e.getContent()!==this.initialValue&&this.emitOnChange(e),this.onInitNgModel!==void 0&&this.onInitNgModel.emit(e)})}emitOnChange(e){this.onChangeCallback&&this.onChangeCallback(e.getContent({format:this.outputFormat}))}}return t.\u0275fac=function(e){return new(e||t)(S(we),S(Ce),S(Ee),S(ot,8))},t.\u0275cmp=w({type:t,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[Ae([lt]),Me,k],decls:1,vars:0,template:function(e,o){e&1&&b(0,Ke,0,0,"ng-template")},dependencies:[M,Ne],styles:["[_nghost-%COMP%]{display:block}"]}),t})(),te=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=ge({imports:[j]}),t})();var st=["editorElement"];function dt(t,s){if(t&1&&(i(0,"app-notification"),l(1),n()),t&2){let e=c();F("role",e.notification.status),d(),E(e.notification.message)}}function mt(t,s){t&1&&u(0,"app-loader")}function ct(t,s){if(t&1){let e=y();i(0,"div",52)(1,"button",53),x("click",function(){let r=h(e).$implicit,m=c(3);return g(m.removeSkill(r))}),l(2),n()()}if(t&2){let e=s.$implicit;d(2),C(" ",e.name," \xD7 ")}}function ut(t,s){if(t&1&&(i(0,"label",8),l(1,"Skills"),n(),i(2,"div",50),b(3,ct,3,1,"div",51),n()),t&2){let e=c(2);d(3),p("ngForOf",e.selectedSkills)}}function pt(t,s){if(t&1){let e=y();i(0,"button",54),x("click",function(){let r=h(e).$implicit,m=c(2);return g(m.addSkill(r))}),i(1,"span",55),l(2,"+"),n(),l(3),n()}if(t&2){let e=s.$implicit;d(3),C(" ",e.name," ")}}function ft(t,s){t&1&&(i(0,"p",41),l(1,"Max Salary must be greater than Min Salary"),n())}function bt(t,s){if(t&1){let e=y();i(0,"div",4),x("click",function(){h(e);let r=c();return g(r.onClose())}),u(1,"i",5),n(),i(2,"h2",6),l(3,"Job Post"),n(),i(4,"form",7),x("ngSubmit",function(){h(e);let r=c();return g(r.onSubmit())}),i(5,"div")(6,"label",8),l(7,"Job Title"),n(),u(8,"input",9),n(),i(9,"div")(10,"label",8),l(11,"Job Location"),n(),u(12,"input",10),n(),i(13,"div")(14,"label",8),l(15,"Job Description"),n(),u(16,"editor",11),n(),i(17,"div")(18,"div",12),b(19,ut,4,1),n(),i(20,"div",13)(21,"h3",14),l(22," Skill suggestions "),n(),i(23,"div",15),b(24,pt,4,1,"button",16),n()()(),i(25,"div")(26,"label",8),l(27,"Payment Period"),n(),i(28,"select",17)(29,"option",18),l(30,"Hourly"),n(),i(31,"option",19),l(32,"Daily"),n(),i(33,"option",20),l(34,"Monthly"),n(),i(35,"option",21),l(36,"Weekly"),n(),i(37,"option",22),l(38,"Yearly"),n()()(),i(39,"div")(40,"label",8),l(41,"Payment Currency"),n(),i(42,"select",23)(43,"option",24),l(44,"US Dollar (USD)"),n(),i(45,"option",25),l(46,"Euro (EUR)"),n(),i(47,"option",26),l(48,"British Pound (GBP)"),n(),i(49,"option",27),l(50,"Japanese Yen (JPY)"),n(),i(51,"option",28),l(52,"Australian Dollar (AUD)"),n(),i(53,"option",29),l(54,"Canadian Dollar (CAD)"),n(),i(55,"option",30),l(56,"Swiss Franc (CHF)"),n(),i(57,"option",31),l(58,"Chinese Yuan (CNY)"),n(),i(59,"option",32),l(60,"Egyptian Pound (EGP)"),n(),i(61,"option",33),l(62,"UAE Dirham (AED)"),n(),i(63,"option",34),l(64,"Saudi Riyal (SAR)"),n(),i(65,"option",35),l(66,"Indian Rupee (INR)"),n(),i(67,"option",36),l(68,"Brazilian Real (BRL)"),n(),i(69,"option",37),l(70,"South African Rand (ZAR)"),n()()(),i(71,"div")(72,"label",8),l(73,"Salary Range"),n(),i(74,"div",38),u(75,"input",39,0)(77,"input",40),n(),b(78,ft,2,0,"p",41),n(),i(79,"div"),u(80,"input",42),i(81,"span",43),l(82,"Salary is negotiable"),n()(),i(83,"div",44)(84,"h3",45),l(85,"Hiring multiple candidates?"),n(),i(86,"div",46)(87,"div"),u(88,"input",47),i(89,"span",48),l(90,"Yes"),n()(),i(91,"div"),u(92,"input",47),i(93,"span",48),l(94,"NO"),n()()()(),i(95,"button",49),l(96," Post Job "),n()()}if(t&2){let e,o=I(76),r=c();d(4),p("formGroup",r.jobForm),d(12),p("init",r.init),d(3),_(r.selectedSkills.length>0?19:-1),d(5),p("ngForOf",r.availableSkills),d(53),p("min",o.value),d(),_(!((e=r.jobForm.get("max_salary"))==null||e.errors==null)&&e.errors.min&&((e=r.jobForm.get("max_salary"))!=null&&e.touched)?78:-1),d(10),p("value",!0),d(4),p("value",!1),d(3),p("disabled",r.jobForm.invalid)}}var Ye=(()=>{class t{fb;editorElement;jobForm;newSkill="";allSkills=[];selectedSkills=[];loading=!1;notification={isFound:!1,message:"",status:""};init={plugins:["anchor","autolink","charmap","codesample","emoticons","image","link","lists","media","searchreplace","table","visualblocks","wordcount","checklist","mediaembed","casechange","formatpainter","pageembed","a11ychecker","tinymcespellchecker","permanentpen","powerpaste","advtable","advcode","editimage","advtemplate","ai","mentions","tinycomments","tableofcontents","footnotes","mergetags","autocorrect","typography","inlinecss","markdown","importword","exportword","exportpdf"],toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table mergetags | addcomment showcomments | spellcheckdialog a11ycheck typography | align lineheight | checklist numlist bullist indent outdent | emoticons charmap | removeformat",tinycomments_mode:"embedded",tinycomments_author:"Author name",mergetags_list:[{value:"First.Name",title:"First Name"},{value:"Email",title:"Email"}],ai_request:(e,o)=>o.string(()=>Promise.reject("See docs to implement AI Assistant"))};updateInfo=v(W);jobService=v(A);innerState=new a;constructor(e){this.fb=e,this.jobForm=this.fb.group({title:["",f.required],location:["",f.required],description:["",f.required],skills:this.fb.array([],f.required),payment_period:["monthly",f.required],payment_currency:["USD",f.required],min_salary:["",f.required],max_salary:["",f.required],salary_negotiable:[!1,f.required],hiring_multiple_candidates:[!0,f.required]})}ngOnInit(){this.loading=!0,this.updateInfo.onGetSkillsAndJobs().subscribe({next:e=>{this.loading=!1,this.allSkills=e.skills,console.log(e)},error:e=>{this.loading=!1,console.error("Error getting skills:",e)}}),this.editSkillsAndJob()}onSubmit(){this.jobForm.valid&&(console.log("Form Submitted",this.jobForm.value),this.loading=!0,console.log(this.jobForm.value),this.jobService.onAddJob(this.jobForm.value).subscribe({next:e=>{this.loading=!1,console.log(e),this.notification={isFound:!0,message:e.message||"Job added successfully",status:"success"},setTimeout(()=>{this.notification={isFound:!1,message:"",status:""}},3500),this.innerState.emit("done")},error:e=>{this.loading=!1,console.error("Error adding job:",e),this.notification={isFound:!0,message:e.error.message||"Job not added successfully",status:"alert"},setTimeout(()=>{this.notification={isFound:!1,message:"",status:""}},3500)}}))}addSkill(e){this.skills.value.includes(e)||(this.selectedSkills.push(e),this.editSkillsAndJob())}removeSkill(e){let o=this.selectedSkills.indexOf(e);o>-1&&(this.selectedSkills.splice(o,1),this.editSkillsAndJob())}editSkillsAndJob(){this.skills.clear(),this.selectedSkills.forEach(e=>{this.skills.push(new T(e.name))})}get skills(){return this.jobForm.get("skills")}get availableSkills(){let e=[];for(let o=0;o<this.allSkills.length;o++)for(let r=0;r<this.selectedSkills.length;r++)this.selectedSkills[r].id==this.allSkills[o].id&&e.push(this.allSkills[o]);return this.allSkills.filter(o=>!e.includes(o))}onClose(){this.innerState.emit("")}static \u0275fac=function(o){return new(o||t)(S(Z))};static \u0275cmp=w({type:t,selectors:[["app-add-job"]],viewQuery:function(o,r){if(o&1&&Fe(st,5),o&2){let m;De(m=Je())&&(r.editorElement=m.first)}},outputs:{innerState:"innerState"},standalone:!0,features:[k],decls:6,vars:2,consts:[["minSalary",""],[1,"overflow-y-scroll","fixed","top-0","left-0","w-full","h-full"],[1,"container","bg-gradient-to-b","from-custom-blue","to-white","backdrop-blur","min-h-screen","min-w-full","py-14"],[1,"max-w-2xl","mx-auto","p-6","bg-white","rounded-lg","shadow-md"],[1,"float-end","cursor-pointer",3,"click"],[1,"fa-solid","fa-square-xmark","text-2xl","text-red-700","hover:text-red-900"],[1,"text-2xl","font-bold","mb-6","text-gray-800"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"block","mb-2","font-semibold","text-lg"],["type","text","formControlName","title","placeholder","e.g. Mobile Developer",1,"w-full","px-4","py-2","border","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["type","text","formControlName","location","placeholder","Cairo",1,"w-full","px-4","py-2","border","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["apiKey","dyt0u5j9sxqsmcit8pumhwfivs4crkgq9itgvuw3cbsiss0o","formControlName","description",3,"init"],[1,"mb-4"],[1,"mb-8"],[1,"mb-4","font-semibold","text-lg"],[1,"flex","flex-wrap","gap-2","h-60","overflow-auto","bg-slate-50"],["type","button","class","flex items-center px-3 py-1 border rounded-full text-sm hover:bg-blue-50 hover:border-blue-200 transition-colors",3,"click",4,"ngFor","ngForOf"],["formControlName","payment_period",1,"w-full","px-4","py-2","border","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["value","hourly","selected",""],["value","daily"],["value","monthly"],["value","weekly"],["value","yearly"],["formControlName","payment_currency",1,"w-full","px-4","py-2","border","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["value","USD","selected",""],["value","EUR"],["value","GBP"],["value","JPY"],["value","AUD"],["value","CAD"],["value","CHF"],["value","CNY"],["value","EGP"],["value","AED"],["value","SAR"],["value","INR"],["value","BRL"],["value","ZAR"],[1,"flex","flex-nowrap","justify-center","w-full"],["type","number","formControlName","min_salary","placeholder","Min Salary",1,"!w-1/4","!rounded-r-none","!border-4"],["type","number","formControlName","max_salary","placeholder","Max Salary",1,"!w-1/4","!rounded-l-none","!border-4",3,"min"],[1,"text-red-500","text-sm","mt-2"],["type","checkbox","formControlName","salary_negotiable"],[1,"font-semibold","text-lg","ms-3"],[1,"!mb-32"],[1,"font-semibold","text-lg"],[1,"flex","justify-center","gap-x-10"],["type","radio","formControlName","hiring_multiple_candidates",3,"value"],[1,"text-xl"],["type","submit",1,"w-full","bg-custom-blue","text-white","py-2","px-4","rounded-md","hover:bg-dark-blue","transition","disabled:bg-gray-300","disabled:text-gray-600","disabled:cursor-not-allowed",3,"disabled"],[1,"flex","flex-wrap","gap-2","mb-2","border","border-indigo-800","rounded-lg","p-5"],["class","flex items-center px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",4,"ngFor","ngForOf"],[1,"flex","items-center","px-3","py-1","bg-blue-100","text-blue-800","rounded-full","text-sm"],["type","button",1,"ml-1","text-blue-600","flex","hover:text-blue-800",3,"click"],["type","button",1,"flex","items-center","px-3","py-1","border","rounded-full","text-sm","hover:bg-blue-50","hover:border-blue-200","transition-colors",3,"click"],[1,"mr-1"]],template:function(o,r){o&1&&(b(0,dt,2,2,"app-notification"),i(1,"div",1)(2,"div",2)(3,"div",3),b(4,mt,1,0,"app-loader")(5,bt,97,9),n()()()),o&2&&(_(r.notification.isFound?0:-1),d(4),_(r.loading?4:5))},dependencies:[M,R,Q,B,Y,H,N,q,O,z,L,V,U,K,G,$,J,D,te,j],styles:["*[_ngcontent-%COMP%]{border-color:#a2ccd9e5!important}[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px;background-color:#fff;display:none}"]})}return t})();function ht(t,s){if(t&1&&(i(0,"app-notification"),l(1),n()),t&2){let e=c();F("role",e.notification.status),d(),E(e.notification.message)}}function gt(t,s){t&1&&u(0,"app-loader")}function xt(t,s){if(t&1){let e=y();i(0,"div",52)(1,"button",53),x("click",function(){let r=h(e).$implicit,m=c(3);return g(m.removeSkill(r))}),l(2),n()()}if(t&2){let e=s.$implicit;d(2),C(" ",e," \xD7 ")}}function _t(t,s){if(t&1&&(i(0,"label",8),l(1,"Skills"),n(),i(2,"div",50),b(3,xt,3,1,"div",51),n()),t&2){let e=c(2);d(3),p("ngForOf",e.selectedSkills)}}function yt(t,s){if(t&1){let e=y();i(0,"button",54),x("click",function(){let r=h(e).$implicit,m=c(2);return g(m.addSkill(r.name))}),i(1,"span",55),l(2,"+"),n(),l(3),n()}if(t&2){let e=s.$implicit;d(3),C(" ",e.name," ")}}function vt(t,s){t&1&&(i(0,"p",41),l(1,"Max Salary must be greater than Min Salary"),n())}function St(t,s){if(t&1){let e=y();i(0,"div",4),x("click",function(){h(e);let r=c();return g(r.onClose())}),u(1,"i",5),n(),i(2,"h2",6),l(3,"Job Post"),n(),i(4,"form",7),x("ngSubmit",function(){h(e);let r=c();return g(r.onSubmit())}),i(5,"div")(6,"label",8),l(7,"Job Title"),n(),u(8,"input",9),n(),i(9,"div")(10,"label",8),l(11,"Job Location"),n(),u(12,"input",10),n(),i(13,"div")(14,"label",8),l(15,"Job Description"),n(),u(16,"editor",11),n(),i(17,"div")(18,"div",12),b(19,_t,4,1),n(),i(20,"div",13)(21,"h3",14),l(22," Skill suggestions "),n(),i(23,"div",15),b(24,yt,4,1,"button",16),n()()(),i(25,"div")(26,"label",8),l(27,"Payment Period"),n(),i(28,"select",17)(29,"option",18),l(30,"Hourly"),n(),i(31,"option",19),l(32,"Daily"),n(),i(33,"option",20),l(34,"Monthly"),n(),i(35,"option",21),l(36,"Weekly"),n(),i(37,"option",22),l(38,"Yearly"),n()()(),i(39,"div")(40,"label",8),l(41,"Payment Currency"),n(),i(42,"select",23)(43,"option",24),l(44,"US Dollar (USD)"),n(),i(45,"option",25),l(46,"Euro (EUR)"),n(),i(47,"option",26),l(48,"British Pound (GBP)"),n(),i(49,"option",27),l(50,"Japanese Yen (JPY)"),n(),i(51,"option",28),l(52,"Australian Dollar (AUD)"),n(),i(53,"option",29),l(54,"Canadian Dollar (CAD)"),n(),i(55,"option",30),l(56,"Swiss Franc (CHF)"),n(),i(57,"option",31),l(58,"Chinese Yuan (CNY)"),n(),i(59,"option",32),l(60,"Egyptian Pound (EGP)"),n(),i(61,"option",33),l(62,"UAE Dirham (AED)"),n(),i(63,"option",34),l(64,"Saudi Riyal (SAR)"),n(),i(65,"option",35),l(66,"Indian Rupee (INR)"),n(),i(67,"option",36),l(68,"Brazilian Real (BRL)"),n(),i(69,"option",37),l(70,"South African Rand (ZAR)"),n()()(),i(71,"div")(72,"label",8),l(73,"Salary Range"),n(),i(74,"div",38),u(75,"input",39,0)(77,"input",40),n(),b(78,vt,2,0,"p",41),n(),i(79,"div"),u(80,"input",42),i(81,"span",43),l(82,"Salary is negotiable"),n()(),i(83,"div",44)(84,"h3",45),l(85,"Hiring multiple candidates?"),n(),i(86,"div",46)(87,"div"),u(88,"input",47),i(89,"span",48),l(90,"Yes"),n()(),i(91,"div"),u(92,"input",47),i(93,"span",48),l(94,"NO"),n()()()(),i(95,"button",49),l(96," Update Job "),n()()}if(t&2){let e,o=I(76),r=c();d(4),p("formGroup",r.editJobForm),d(12),p("init",r.init),d(3),_(r.selectedSkills.length>0?19:-1),d(5),p("ngForOf",r.availableSkills),d(53),p("min",o.value),d(),_(!((e=r.editJobForm.get("max_salary"))==null||e.errors==null)&&e.errors.min&&((e=r.editJobForm.get("max_salary"))!=null&&e.touched)?78:-1),d(10),p("value",!0),d(4),p("value",!1),d(3),p("disabled",r.editJobForm.invalid)}}var He=(()=>{class t{fb;editJobForm;newSkill="";allSkills=[];selectedSkills=[];loading=!1;notification={isFound:!1,message:"",status:""};init={plugins:["anchor","autolink","charmap","codesample","emoticons","image","link","lists","media","searchreplace","table","visualblocks","wordcount","checklist","mediaembed","casechange","formatpainter","pageembed","a11ychecker","tinymcespellchecker","permanentpen","powerpaste","advtable","advcode","editimage","advtemplate","ai","mentions","tinycomments","tableofcontents","footnotes","mergetags","autocorrect","typography","inlinecss","markdown","importword","exportword","exportpdf"],toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table mergetags | addcomment showcomments | spellcheckdialog a11ycheck typography | align lineheight | checklist numlist bullist indent outdent | emoticons charmap | removeformat",tinycomments_mode:"embedded",tinycomments_author:"Author name",mergetags_list:[{value:"First.Name",title:"First Name"},{value:"Email",title:"Email"}],ai_request:(e,o)=>o.string(()=>Promise.reject("See docs to implement AI Assistant"))};updateInfo=v(W);jobService=v(A);job=null;innerState=new a;constructor(e){this.fb=e}ngOnInit(){this.loading=!0,this.updateInfo.onGetSkillsAndJobs().subscribe({next:e=>{this.loading=!1,this.allSkills=e.skills,console.log(e),this.selectedSkills=this.job.skills,console.log(this.selectedSkills),this.makeUpdateForm()},error:e=>{this.loading=!1,console.error("Error getting skills and jobs:",e)}}),this.editSkillsAndJob()}makeUpdateForm(){this.editJobForm=this.fb.group({title:[this.job.title,f.required],location:[this.job.location,f.required],description:[this.job.description,f.required],skills:this.fb.array([]),payment_period:[this.job.payment_period,f.required],payment_currency:[this.job.payment_currency,f.required],min_salary:[this.job.min_salary,f.required],max_salary:[this.job.max_salary,f.required],salary_negotiable:[this.job.salary_negotiable,f.required],hiring_multiple_candidates:[this.job.hiring_multiple_candidates,f.required]})}onSubmit(){this.editJobForm.valid&&(console.log("Form Submitted",this.editJobForm.value),this.loading=!0,console.log(this.editJobForm.value),this.jobService.onEditJob(this.editJobForm.value,this.job.id).subscribe({next:e=>{this.loading=!1,console.log(e),this.notification={isFound:!0,message:e.message||"Job updated successfully",status:"success"},setTimeout(()=>{this.notification={isFound:!1,message:"",status:""}},3500),this.innerState.emit("done")},error:e=>{this.loading=!1,console.error("Error adding job:",e),this.notification={isFound:!0,message:e.error.message||"Job not updated successfully",status:"alert"},setTimeout(()=>{this.notification={isFound:!1,message:"",status:""}},3500)}}))}addSkill(e){this.skills.value.includes(e)||(this.selectedSkills.push(e),this.editSkillsAndJob())}removeSkill(e){let o=this.selectedSkills.indexOf(e);o>-1&&(this.selectedSkills.splice(o,1),this.editSkillsAndJob())}editSkillsAndJob(){this.skills?.clear(),this.selectedSkills?.forEach(e=>{typeof e=="string"?this.skills?.push(new T(e)):this.skills?.push(new T(e.name))})}get skills(){return this.editJobForm?.get("skills")}get availableSkills(){let e=[];for(let o=0;o<this.allSkills.length;o++)for(let r=0;r<this.selectedSkills.length;r++)this.selectedSkills[r]==this.allSkills[o].name&&e.push(this.allSkills[o]);return this.allSkills?.filter(o=>!e.includes(o))}onClose(){this.innerState.emit("")}static \u0275fac=function(o){return new(o||t)(S(Z))};static \u0275cmp=w({type:t,selectors:[["app-edit-job"]],inputs:{job:"job"},outputs:{innerState:"innerState"},standalone:!0,features:[k],decls:6,vars:2,consts:[["minSalary",""],[1,"overflow-y-scroll","fixed","top-0","left-0","w-full","h-full"],[1,"container","bg-gradient-to-b","from-custom-blue","to-white","backdrop-blur","min-h-screen","min-w-full","py-14"],[1,"max-w-2xl","mx-auto","p-6","bg-white","rounded-lg","shadow-md"],[1,"float-end","cursor-pointer",3,"click"],[1,"fa-solid","fa-square-xmark","text-2xl","text-red-700","hover:text-red-900"],[1,"text-2xl","font-bold","mb-6","text-gray-800"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"block","mb-2","font-semibold","text-lg"],["type","text","formControlName","title","placeholder","e.g. Mobile Developer",1,"w-full","px-4","py-2","border","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["type","text","formControlName","location","placeholder","Cairo",1,"w-full","px-4","py-2","border","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["apiKey","dyt0u5j9sxqsmcit8pumhwfivs4crkgq9itgvuw3cbsiss0o","formControlName","description",3,"init"],[1,"mb-4"],[1,"mb-8"],[1,"mb-4","font-semibold","text-lg"],[1,"flex","flex-wrap","gap-2","h-60","overflow-auto","bg-slate-50"],["type","button","class","flex items-center px-3 py-1 border rounded-full text-sm hover:bg-blue-50 hover:border-blue-200 transition-colors",3,"click",4,"ngFor","ngForOf"],["formControlName","payment_period",1,"w-full","px-4","py-2","border","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["value","hourly","selected",""],["value","daily"],["value","monthly"],["value","weekly"],["value","yearly"],["formControlName","payment_currency",1,"w-full","px-4","py-2","border","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["value","USD","selected",""],["value","EUR"],["value","GBP"],["value","JPY"],["value","AUD"],["value","CAD"],["value","CHF"],["value","CNY"],["value","EGP"],["value","AED"],["value","SAR"],["value","INR"],["value","BRL"],["value","ZAR"],[1,"flex","flex-nowrap","justify-center","w-full"],["type","number","formControlName","min_salary","placeholder","Min Salary",1,"!w-1/4","!rounded-r-none","!border-4"],["type","number","formControlName","max_salary","placeholder","Max Salary",1,"!w-1/4","!rounded-l-none","!border-4",3,"min"],[1,"text-red-500","text-sm","mt-2"],["type","checkbox","formControlName","salary_negotiable"],[1,"font-semibold","text-lg","ms-3"],[1,"!mb-32"],[1,"font-semibold","text-lg"],[1,"flex","justify-center","gap-x-10"],["type","radio","formControlName","hiring_multiple_candidates",3,"value"],[1,"text-xl"],["type","submit",1,"w-full","bg-custom-blue","text-white","py-2","px-4","rounded-md","hover:bg-dark-blue","transition","disabled:bg-gray-300","disabled:text-gray-600","disabled:cursor-not-allowed",3,"disabled"],[1,"flex","flex-wrap","gap-2","mb-2","border","border-indigo-800","rounded-lg","p-5"],["class","flex items-center px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",4,"ngFor","ngForOf"],[1,"flex","items-center","px-3","py-1","bg-blue-100","text-blue-800","rounded-full","text-sm"],["type","button",1,"ml-1","text-blue-600","flex","hover:text-blue-800",3,"click"],["type","button",1,"flex","items-center","px-3","py-1","border","rounded-full","text-sm","hover:bg-blue-50","hover:border-blue-200","transition-colors",3,"click"],[1,"mr-1"]],template:function(o,r){o&1&&(b(0,ht,2,2,"app-notification"),i(1,"div",1)(2,"div",2)(3,"div",3),b(4,gt,1,0,"app-loader")(5,St,97,9),n()()()),o&2&&(_(r.notification.isFound?0:-1),d(4),_(r.loading?4:5))},dependencies:[J,D,Q,B,Y,H,N,q,O,z,L,V,U,K,G,$,M,R,te,j],styles:["*[_ngcontent-%COMP%]{border-color:#a2ccd9e5!important}[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px;background-color:#fff;display:none}"]})}return t})();function Ct(t,s){if(t&1&&(i(0,"app-notification"),l(1),n()),t&2){let e=c();F("role",e.notification.status),d(),E(e.notification.message)}}function wt(t,s){t&1&&u(0,"app-loader")}function Et(t,s){if(t&1){let e=y();i(0,"tr",10)(1,"td",13),l(2),n(),i(3,"td",13),l(4),n(),i(5,"td",14),l(6),n(),i(7,"td",15)(8,"div",16),x("click",function(){let r=h(e).$implicit,m=c(2);return g(m.onupdateJob(r))}),u(9,"img",17),n(),i(10,"div",18)(11,"div",19)(12,"div",20),u(13,"img",21),n(),i(14,"div",22)(15,"div",23)(16,"div",24)(17,"h3",25),l(18," Delete Job "),n(),i(19,"button",26),ve(),i(20,"svg",27),u(21,"path",28),n()()(),Se(),i(22,"div",29)(23,"p"),l(24),n()(),i(25,"div",30)(26,"button",31),x("click",function(){let r=h(e).$implicit,m=c(2);return g(m.onDeleteJob(r.id))}),l(27," Yes Delete It "),n()()()()()(),i(28,"div",32),u(29,"img",33),n()()()}if(t&2){let e=s.$implicit;d(2),E(e.title),d(2),E(e.date_posted),d(2),C(" ",e.applications_count," "),d(18),C(" Are You Sure You Want To Delete (",e.title,") "),d(4),p("routerLink","applicants/"+e.id)}}function kt(t,s){if(t&1){let e=y();i(0,"button",34),x("click",function(){let r=h(e).$implicit,m=c(2);return g(m.goToPage(r.label,r.url))}),n()}if(t&2){let e=s.$implicit,o=s.$index,r=c(2);p("disabled",e.active)("innerHTML",o==0?"<<":o==r.paginationLinks.length-1?">>":e.label,ke)}}function Mt(t,s){if(t&1){let e=y();i(0,"div",1)(1,"div",2)(2,"h1",3),l(3,"My Job Application"),n(),i(4,"div",4)(5,"button",5),x("click",function(){h(e);let r=c();return g(r.onChangeStatus("add"))}),l(6," + Create New Job "),n()(),i(7,"div",6)(8,"table",7)(9,"thead",8)(10,"tr")(11,"th",9),l(12,"Job Title"),n(),i(13,"th",9),l(14,"Posted Date"),n(),i(15,"th",9),l(16,"Applicants"),n(),i(17,"th",9),l(18,"Action"),n()()(),i(19,"tbody"),re(20,Et,30,5,"tr",10,le),n()()()()(),i(22,"div",11),re(23,kt,1,2,"button",12,le),n()}if(t&2){let e=c();d(20),ae(e.myJobs),d(3),ae(e.paginationLinks)}}function Ft(t,s){if(t&1){let e=y();i(0,"app-add-job",35),x("innerState",function(r){h(e);let m=c();return g(m.onChangeStatus(r))}),n()}}function Dt(t,s){if(t&1){let e=y();i(0,"app-edit-job",36),x("innerState",function(r){h(e);let m=c();return g(m.onChangeStatus(r))}),n()}if(t&2){let e=c();p("job",e.jobUpdate)}}var Ci=(()=>{class t{myJobs=[];jobService=v(A);bridgeService=v(Re);router=v(Te);route=v(Pe);loading=!1;notification={isFound:!1,message:"",status:""};pageStatus="";jobUpdate;paginationLinks=[];routeSubscription;ngOnInit(){this.routeSubscription=this.route.queryParamMap.subscribe(e=>{let o=+e.get("page");o==0&&(o=1),this.fetchMyJobs(o)})}fetchMyJobs(e){this.loading=!0,this.jobService.onGetMyJobsByUrl(e).subscribe({next:o=>{this.loading=!1,console.log(o),this.myJobs=o.data.data,this.paginationLinks=o.data.links,this.notification={isFound:!0,message:o.message||"Applications fetched successfully",status:"success"},setTimeout(()=>{this.notification={isFound:!1,message:"",status:""}},3500)},error:o=>{this.loading=!1,console.log(o),this.notification={isFound:!0,message:o.error.message||"Error fetching applications",status:"alert"},setTimeout(()=>{this.notification={isFound:!1,message:"",status:""}},3500)}})}onChangeStatus(e){let o=+this.route.snapshot.queryParamMap.get("page");this.pageStatus=e,this.pageStatus=="done"&&this.fetchMyJobs(o),this.jobUpdate=null}onupdateJob(e){this.pageStatus="edit",this.jobUpdate=e}onDeleteJob(e){let o=+this.route.snapshot.queryParamMap.get("page");this.loading=!0,this.jobService.onDeleteJob(e).subscribe({next:r=>{this.loading=!1,console.log(r),this.fetchMyJobs(o),this.notification={isFound:!0,message:r.message||"Job deleted successfully",status:"success"},setTimeout(()=>{this.notification={isFound:!1,message:"",status:""}},3500)},error:r=>{this.loading=!1,console.error("Error deleting job:",r),this.notification={isFound:!0,message:r.error.message||"Job not deleted successfully",status:"alert"},setTimeout(()=>{this.notification={isFound:!1,message:"",status:""}},3500)}})}goToPage(e,o){if(o!=null){window.scrollTo({top:0,behavior:"smooth"});let r=+this.route.snapshot.queryParamMap.get("page");(r==0||r==null||r==null)&&(r=1),e=="Next &raquo;"?this.router.navigate([],{relativeTo:this.route,queryParams:{page:++r}}):e=="&laquo; Previous"?this.router.navigate([],{relativeTo:this.route,queryParams:{page:--r}}):this.router.navigate([],{relativeTo:this.route,queryParams:{page:e}})}}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=w({type:t,selectors:[["app-my-jobs"]],standalone:!0,features:[k],decls:5,vars:3,consts:[[3,"job"],[1,"min-h-screen","py-10","bg-gradient-to-b","from-custom-blue","to-white"],[1,"px-4"],[1,"text-2xl","font-bold","text-gray-800","mb-6"],[1,"flex","justify-end","mb-4"],[1,"py-2","px-4","rounded-full","bg-gray-50","border","hover:bg-custom-blue","hover:text-white","hover:border","hover:border-white","transition-all","text-dark-blue","font-semibold",3,"click"],[1,"overflow-x-auto","bg-white","shadow-md","rounded-lg"],[1,"min-w-full","border-collapse","overflow-x-scroll","whitespace-nowrap"],[1,"bg-custom-blue/40","text-gray-600","font-semibold","uppercase","text-lg"],[1,"px-6","py-3","text-start"],[1,"border-b","hover:bg-gray-50"],[1,"pagination-controls","mx-auto","w-fit","md:border-2","md:border-cyan-500","rounded-full","py-2","px-10","mt-2","mb-20"],[1,"border","text-black","py-1","px-2","m-1","rounded-full","text-sm","md:text-xl","cursor-pointer","hover:bg-gray-100","disabled:bg-cyan-500","disabled:text-white","disabled:cursor-auto",3,"disabled","innerHTML"],[1,"px-6","py-4","text-gray-800"],[1,"px-6","py-4","text-gray-600"],[1,"px-6","py-4","flex","gap-2"],[1,"p-2","border","border-custom-blue","rounded-lg","hover:bg-gray-200","cursor-pointer",3,"click"],["src","photo/pincel.png","alt","",1,"min-w-5","max-w-5"],[1,""],["x-data","{modalIsOpen: false}"],["x-on:click","modalIsOpen = true","type","button",1,"p-2","border","border-custom-blue","rounded-lg","hover:bg-gray-200","cursor-pointer"],["src","photo/bin.png","alt","",1,"min-w-5","max-w-5"],["x-cloak","","x-show","modalIsOpen","x-transition.opacity.duration.200ms","","x-trap.inert.noscroll","modalIsOpen","x-on:keydown.esc.window","modalIsOpen = false","x-on:click.self","modalIsOpen = false","role","dialog","aria-modal","true","aria-labelledby","defaultModalTitle",1,"fixed","inset-0","z-30","flex","justify-center","bg-white/20","p-4","pb-8","backdrop-blur-md","items-center","lg:p-8"],["x-show","modalIsOpen","x-transition:enter","transition ease-out duration-200 delay-100 motion-reduce:transition-opacity","x-transition:enter-start","opacity-0 scale-50","x-transition:enter-end","opacity-100 scale-100",1,"flex","max-w-lg","flex-col","gap-4","overflow-hidden","rounded-lg","bg-white","shadow-lg","w-full"],[1,"flex","items-center","justify-between","bg-white","p-4"],["id","defaultModalTitle",1,"font-bold","text-2xl","tracking-wide","text-neutral-900","p-3","m-auto"],["x-on:click","modalIsOpen = false","aria-label","close modal"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","aria-hidden","true","stroke","currentColor","fill","none","stroke-width","1.4",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M6 18L18 6M6 6l12 12"],[1,"p-8","whitespace-normal","text-justify"],[1,"flex","flex-col-reverse","justify-between","gap-2","bg-white","p-4","sm:flex-row","sm:items-center","md:justify-end"],["x-on:click","modalIsOpen = false","type","button",1,"whitespace-nowrap","rounded-sm","px-4","py-2","text-center","text-sm","font-medium","tracking-wide","text-neutral-600","transition","hover:opacity-75","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-black","active:opacity-100","active:outline-offset-0","dark:text-neutral-300","dark:focus-visible:outline-white",3,"click"],[1,"p-2","border","border-custom-blue","rounded-lg","hover:bg-gray-200","cursor-pointer",3,"routerLink"],["src","photo/candi.png","alt","",1,"min-w-5","max-w-5"],[1,"border","text-black","py-1","px-2","m-1","rounded-full","text-sm","md:text-xl","cursor-pointer","hover:bg-gray-100","disabled:bg-cyan-500","disabled:text-white","disabled:cursor-auto",3,"click","disabled","innerHTML"],[3,"innerState"],[3,"innerState","job"]],template:function(o,r){if(o&1&&b(0,Ct,2,2,"app-notification")(1,wt,1,0,"app-loader")(2,Mt,25,0)(3,Ft,1,0,"app-add-job")(4,Dt,1,1,"app-edit-job",0),o&2){let m;_(r.notification.isFound?0:-1),d(),_(r.loading?1:2),d(2),_((m=r.pageStatus)==="add"?3:m==="edit"?4:-1)}},dependencies:[J,D,M,Ye,He,Ie]})}return t})();export{Ci as MyJobsComponent};
