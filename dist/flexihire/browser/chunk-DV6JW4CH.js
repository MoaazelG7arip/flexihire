import{a as B}from"./chunk-RUTO4UJI.js";import{c as k,d as s,e as T,f as M,g as I,i as v,k as O,n as L,o as X,p as z,q as V,r as G,t as j,w as D}from"./chunk-VT7537MC.js";import{a as A}from"./chunk-IMCIWAYF.js";import{a as q}from"./chunk-JGADIHO4.js";import{a as P}from"./chunk-NCQ4MMQJ.js";import"./chunk-NUY3BYMQ.js";import{g as R}from"./chunk-KBS3EZNC.js";import{j as E,n as N}from"./chunk-SBNREMTY.js";import{$ as h,Fb as r,Ob as F,Ua as a,ba as C,db as c,fb as l,jb as S,nb as i,ob as t,pb as p,vb as x,wb as y}from"./chunk-IC3SXG5R.js";function J(e,m){e&1&&p(0,"app-loader")}function U(e,m){e&1&&(i(0,"div",30),r(1," First Name is required. "),t())}function W(e,m){e&1&&(i(0,"div",30),r(1," Last Name is required. "),t())}function H(e,m){e&1&&(i(0,"div",30),r(1," Please enter a valid email. "),t())}function K(e,m){e&1&&(i(0,"div",30),r(1," Password is required. "),t())}function Q(e,m){e&1&&(i(0,"div",31),r(1," Password must be at least 8 Characters "),t())}function Y(e,m){e&1&&(i(0,"div",30),r(1," Passwords do not match. "),t())}function Z(e,m){e&1&&(i(0,"div",30),r(1," Password confirmation is required. "),t())}function $(e,m){e&1&&(i(0,"div",30),r(1," Please select a role. "),t())}function ee(e,m){if(e&1&&(i(0,"div",11),p(1,"input",12)(2,"label",13),c(3,U,2,0,"div",14),t(),i(4,"div",11),p(5,"input",15)(6,"label",16),c(7,W,2,0,"div",14),t(),i(8,"div",17),p(9,"input",18)(10,"label",19),c(11,H,2,0,"div",14),t(),i(12,"div",11),p(13,"input",20)(14,"label",21),c(15,K,2,0,"div",14)(16,Q,2,0,"div",22),t(),i(17,"div",11),p(18,"input",23)(19,"label",24),c(20,Y,2,0,"div",14)(21,Z,2,0,"div",14),t(),i(22,"div",17)(23,"select",25)(24,"option",26),r(25,"Select Role"),t(),i(26,"option",27),r(27,"User"),t(),i(28,"option",28),r(29,"Company"),t()(),c(30,$,2,0,"div",14),t(),i(31,"div",17)(32,"button",29),r(33," Register "),t()()),e&2){let o,d,u,f,g,_,b,w,n=y();a(3),l("ngIf",((o=n.registrationForm.get("first_name"))==null?null:o.invalid)&&((o=n.registrationForm.get("first_name"))==null?null:o.touched)),a(4),l("ngIf",((d=n.registrationForm.get("last_name"))==null?null:d.invalid)&&((d=n.registrationForm.get("last_name"))==null?null:d.touched)),a(4),l("ngIf",((u=n.registrationForm.get("email"))==null?null:u.invalid)&&((u=n.registrationForm.get("email"))==null?null:u.touched)),a(4),l("ngIf",((f=n.registrationForm.get("password"))==null||f.errors==null?null:f.errors.required)&&((f=n.registrationForm.get("password"))==null?null:f.touched)),a(),l("ngIf",!(!((g=n.registrationForm.get("password"))==null||g.errors==null)&&g.errors.required)&&((g=n.registrationForm.get("password"))==null?null:g.touched)&&((g=n.registrationForm.get("password"))==null||g.errors==null?null:g.errors.minlength)),a(4),l("ngIf",n.registrationForm.hasError("passwordMismatch")&&((_=n.registrationForm.get("password_confirmation"))==null?null:_.touched)&&!(!((_=n.registrationForm.get("password_confirmation"))==null||_.errors==null)&&_.errors.required)),a(),l("ngIf",((b=n.registrationForm.get("password_confirmation"))==null?null:b.touched)&&((b=n.registrationForm.get("password_confirmation"))==null||b.errors==null?null:b.errors.required)),a(9),l("ngIf",((w=n.registrationForm.get("role"))==null?null:w.invalid)&&((w=n.registrationForm.get("role"))==null?null:w.touched)),a(2),l("disabled",n.registrationForm.invalid)}}var ce=(()=>{class e{loading=!1;notification={isFound:!1,message:"",status:""};registrationForm;bridgeService=h(P);authService=h(q);router=h(R);constructor(){this.registrationForm=new I({first_name:new v("",[s.required]),last_name:new v("",[s.required]),email:new v("",[s.required,s.email]),password:new v("",[s.required,s.minLength(8)]),password_confirmation:new v("",[s.required,s.minLength(8)]),role:new v("",[s.required])},{validators:B})}ngOnInit(){this.bridgeService.loading.subscribe(o=>{this.loading=o})}onSubmit(){this.registrationForm.valid&&this.onRegisteration()}goToLoginPage(){this.router.navigate(["/auth/login"])}onRegisteration(){this.loading=!0,this.bridgeService.getLoading(this.loading),this.authService.onRegister(this.registrationForm.value).subscribe({next:o=>{console.log(o),this.loading=!1,this.bridgeService.getLoading(this.loading),this.authService.user.next(o),localStorage.setItem("user",JSON.stringify(o)),sessionStorage.setItem("addInfo","true"),this.router.navigate(["/page/account"]),this.notification={isFound:!0,message:o.message||"Registration Successfully",status:"success"},this.bridgeService.getNotification(this.notification),setTimeout(()=>{this.notification={isFound:!1,message:"",status:""}},3500),this.bridgeService.getNotification(this.notification)},error:o=>{console.error(o),this.loading=!1,this.notification={isFound:!0,message:o?.error?.errors?.email[0]||o?.error?.message,status:"alert"},this.bridgeService.getNotification(this.notification),this.bridgeService.getLoading(this.loading),setTimeout(()=>{this.notification={isFound:!1,message:"",status:""}},3500),this.bridgeService.getNotification(this.notification)}})}static \u0275fac=function(d){return new(d||e)};static \u0275cmp=C({type:e,selectors:[["app-register"]],standalone:!0,features:[F],decls:19,vars:2,consts:[[1,"w-full","flex","h-screen","gap-[5vw]"],[1,"media","overflow-hidden","h-full","absolute","top-0","left-0","w-full","sm:w-[35vw]","sm:relative","-z-10","sm:z-10"],[1,"absolute","z-20","w-2/3","left-1/2","transform","-translate-x-1/2","top-24","hidden","sm:block"],[1,"font-extrabold","text-3xl","my-5"],[1,"font-semibold"],["src","video/vecteezy_happy-child-back-to-school_37210123.mp4","autoplay","","muted","","loop","",1,"w-full","h-full","relative","object-cover"],[1,"meta","overflow-auto","bg-white","bg-opacity-50","sm:bg-none","sm:bg-opacity-0","w-full","sm:w-[60vw]"],[1,"container","pt-16"],[1,"font-bold","text-2xl","mb-6"],[1,"gap-y-3","grid","grid-cols-2","gap-x-5",3,"ngSubmit","formGroup"],[1,"text-custom-blue","font-bold","hover:underline",3,"click"],[1,"col-span-1"],["id","firstname","type","text","formControlName","first_name","required",""],["alt","First Name","placeholder","First Name"],["class","text-sm text-red-600 mt-1",4,"ngIf"],["id","lastname","type","text","formControlName","last_name","required",""],["alt","Last Name","placeholder","Last Name"],[1,"col-span-2"],["id","email","type","text","formControlName","email","required",""],["alt","Email","placeholder","Email"],["id","password","type","password","formControlName","password","required",""],["alt","Password","placeholder","Password"],["class","text-sm text-yellow-600 mt-1 font-bold",4,"ngIf"],["required","","type","password","formControlName","password_confirmation"],["alt","Confirm","placeholder","Confirm"],["id","role","formControlName","role",1,"mt-1","p-3","block","w-full","rounded-md","border-gray-300","border","focus:border-indigo-500","focus:ring-indigo-500","sm:text-sm"],["value","","disabled",""],["value","user"],["value","company"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-custom-blue","hover:bg-dark-blue","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-custom-blue","disabled:bg-gray-300","disabled:cursor-not-allowed",3,"disabled"],[1,"text-sm","text-red-600","mt-1"],[1,"text-sm","text-yellow-600","mt-1","font-bold"]],template:function(d,u){d&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),r(4,"Welcome , Friend "),t(),i(5,"p",4),r(6,"Enter your personal details and start journey with us "),t()(),p(7,"video",5),t(),i(8,"div",6)(9,"div",7)(10,"h1",8),r(11,"Register"),t(),i(12,"form",9),x("ngSubmit",function(){return u.onSubmit()}),c(13,J,1,0,"app-loader")(14,ee,34,9),t(),i(15,"p"),r(16," already have an account? "),i(17,"button",10),x("click",function(){return u.goToLoginPage()}),r(18," Login "),t()()()()()),d&2&&(a(12),l("formGroup",u.registrationForm),a(),S(u.loading?13:14))},dependencies:[N,E,D,O,V,G,k,z,T,M,j,L,X,A],styles:["@media (min-width: 640px){.f-page[_ngcontent-%COMP%]{overflow:hidden}.f-page[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]{animation:move 3s 1 forwards;-webkit-animation:_ngcontent-%COMP%_move 3s 1 forwards;z-index:10}.f-page[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{animation:move-l 3s 1 forwards;-webkit-animation:_ngcontent-%COMP%_move-l 3s 1 forwards}}@keyframes _ngcontent-%COMP%_move{0%{transform:translate(65vw);-webkit-transform:translateX(65vw);-moz-transform:translateX(65vw);-ms-transform:translateX(65vw);-o-transform:translateX(65vw);filter:blur(5px);-webkit-filter:blur(5px)}to{transform:translate(0);filter:blur(0);-webkit-filter:blur(0)}}@keyframes _ngcontent-%COMP%_move-l{0%{transform:translate(-40vw);-webkit-transform:translateX(-40vw);-moz-transform:translateX(-40vw);-ms-transform:translateX(-40vw);-o-transform:translateX(-40vw);filter:blur(5px);-webkit-filter:blur(5px)}to{transform:translate(0);-webkit-transform:translateX(0%);-moz-transform:translateX(0%);-ms-transform:translateX(0%);-o-transform:translateX(0%);filter:blur(0px);-webkit-filter:blur(0px)}}"]})}return e})();export{ce as RegisterComponent};
