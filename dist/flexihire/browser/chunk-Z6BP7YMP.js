import{a as K}from"./chunk-GHKKSTYY.js";import{a as Y}from"./chunk-ZKM4LLLM.js";import{a as z}from"./chunk-W3UWONK4.js";import{c as P,e as R,j as W,v as G}from"./chunk-VT7537MC.js";import{a as q}from"./chunk-IMCIWAYF.js";import"./chunk-NUY3BYMQ.js";import{d as U,e as V,h as B}from"./chunk-KBS3EZNC.js";import{m as H,n as N}from"./chunk-SBNREMTY.js";import{$ as c,Fb as a,Gb as h,Hb as d,Jb as A,Kb as M,Lb as O,Mb as L,Na as k,Ob as D,Tb as v,Ua as n,Wb as _,ba as w,db as u,eb as j,fb as b,jb as f,kb as I,la as x,lb as E,ma as g,mb as J,na as C,nb as t,oa as S,ob as i,pb as r,sb as T,vb as F,wb as m}from"./chunk-IC3SXG5R.js";function Q(o,p){if(o&1&&(t(0,"app-notification"),a(1),i()),o&2){let e=m();j("role",e.notification.status),n(),h(e.notification.message)}}function X(o,p){o&1&&r(0,"app-loader")}function Z(o,p){if(o&1&&(t(0,"span",19),a(1),i()),o&2){let e=p.$implicit;n(),d(" ",e," ")}}function $(o,p){if(o&1&&(t(0,"h1",17),a(1),i(),t(2,"div",21),a(3),i()),o&2){let e=m(2);n(),d("About ",e.job.user.first_name+" "+e.job.user.last_name,""),n(2),d(" ",e.job.user.description," ")}}function ee(o,p){if(o&1){let e=T();t(0,"div",20)(1,"button",22),a(2,"Apply To Job"),i(),t(3,"div",23)(4,"div",24)(5,"div",25)(6,"h3",26),a(7,"Proposal"),i(),t(8,"button",27),C(),t(9,"svg",28),r(10,"path",29),i()()(),S(),t(11,"div",30)(12,"textarea",31),L("ngModelChange",function(s){x(e);let y=m(2);return O(y.proposal,s)||(y.proposal=s),g(s)}),i()(),t(13,"div",32)(14,"button",33),a(15,"Remind me later"),i(),t(16,"button",34),F("click",function(){x(e);let s=m(2);return g(s.ApplyForJob(s.job.id))}),a(17,"Submit"),i()()()()()}if(o&2){let e=m(2);n(12),M("ngModel",e.proposal),n(4),b("disabled",!e.proposal)}}function te(o,p){if(o&1&&(t(0,"div",1)(1,"div",2)(2,"h1",3),a(3),i(),t(4,"div")(5,"span",4),r(6,"i",5),a(7),i(),t(8,"span",6),r(9,"img",7),a(10),i()(),t(11,"div",8)(12,"p",9),a(13),v(14,"currency"),v(15,"currency"),i(),t(16,"p",10),r(17,"img",11),a(18),i()(),t(19,"div",12)(20,"p",13),r(21,"img",14),a(22),i()(),t(23,"div")(24,"h1",15),a(25,"Job Description"),i(),r(26,"div",16),i(),t(27,"div")(28,"h2",17),a(29,"Required Skills"),i(),t(30,"div",18),E(31,Z,2,1,"span",19,I),i()(),u(33,$,4,2),t(34,"div"),u(35,ee,18,2,"div",20),i()()()),o&2){let e=m();n(3),h(e.job.title),n(2),b("routerLink","/page/companies/"+e.job.user.id),n(2),d(" ",e.job.user.first_name+" "+e.job.user.last_name," - "),n(3),d(" ",e.job.location,""),n(3),A("Salary: ",_(14,12,e.job.min_salary,"USD","symbol","1.0-0")," - ",_(15,17,e.job.max_salary,"USD","symbol","1.0-0")," \xA0 ",e.job.salary_negotiable?" (Negotiable)":" (Not Negotiable)",""),n(5),d(" Posted on: ",e.job.date_posted," "),n(4),d(" ",e.job.hiring_multiple_candidates?"Accept Multiple Candidates":"Accept Single Candidate"," "),n(4),b("innerHTML",e.getSafeHtml(e.job.description),k),n(5),J(e.job.skills),n(2),f(e.job.user.description?33:-1),n(2),f(!e.isApplied&&(e.mainUser==null||e.mainUser.user==null?null:e.mainUser.user.roles[0])=="user"?35:-1)}}var be=(()=>{class o{loading=!1;job=null;proposal="";sanitizer=c(U);informationService=c(Y);jobService=c(K);route=c(V);notification={isFound:!1,message:"",status:""};isApplied=!1;mainUser;ngOnInit(){this.loading=!0;let e=+this.route.snapshot.paramMap.get("id");this.informationService.onGetJobById(e).subscribe({next:l=>{console.log(l),this.loading=!1,this.job=l.job,this.isApplied=l.has_applied,this.mainUser=JSON.parse(localStorage.getItem("user")),this.notification={isFound:!0,message:l.message||"Job fetched successfully",status:"success"},setTimeout(()=>{this.notification={isFound:!1,message:"",status:""}},3500)},error:l=>{this.loading=!1,console.log(l),this.notification={isFound:!0,message:l.error.message||"Job not fetched",status:"alert"},setTimeout(()=>{this.notification={isFound:!1,message:"",status:""}},3500)}})}ApplyForJob(e){this.loading=!0;let l={job_id:e,proposal:this.proposal};this.jobService.onApplyForJob(l).subscribe({next:s=>{this.loading=!1,console.log(s),this.proposal="",this.isApplied=!0,this.notification={isFound:!0,message:s.message||"Job Applied Successfully",status:"success"},setTimeout(()=>{this.notification={isFound:!1,message:"",status:""}},3500)},error:s=>{this.loading=!1,console.log(s),this.proposal="",this.notification={isFound:!0,message:s.error.message||"Job Application Failed",status:"alert"},setTimeout(()=>{this.notification={isFound:!1,message:"",status:""}},3500)}})}getSafeHtml(e){return this.sanitizer.bypassSecurityTrustHtml(e)}static \u0275fac=function(l){return new(l||o)};static \u0275cmp=w({type:o,selectors:[["app-job"]],standalone:!0,features:[D],decls:4,vars:2,consts:[[1,"page","min-h-screen","bg-gradient-to-b","from-custom-blue","to-white","overflow-hidden"],[1,"container","max-w-full"],[1,"my-10","bg-white","shadow-md","rounded-lg","p-5","space-y-2"],[1,"font-bold","text-2xl"],[1,"font-semibold","text-[#62AFC6]","hover:underline","cursor-pointer",3,"routerLink"],[1,"fa-regular","fa-building"],[1,"text-gray-600","inline-block"],["src","photo/loc.png","alt","",1,"w-4","inline-block"],[1,"flex","flex-col","sm:flex-row","gap-4"],[1,"text-[#62AFC6]","font-semibold"],[1,"inline-block"],["src","photo/posted.png","alt","",1,"w-4","inline-block"],[1,"flex","items-center"],[1,"inline-block","text-[#62AFC6]","font-semibold"],["src","photo/candi2.png","alt","",1,"w-6","me-1","inline-block"],[1,"font-bold","mt-2"],[1,"text-gray-600","my-3","ms-10",3,"innerHTML"],[1,"font-bold"],[1,"flex","flex-wrap","ms-10"],[1,"p-1","md:p-2","m-1","md:m-2","text-sm","md:text-base","border","bg-custom-blue/70","rounded-full","hover:bg-dark-blue"],["x-data","{modalIsOpen: false}"],[1,"text-gray-600","my-2","ms-10"],["x-on:click","modalIsOpen = true","type","button",1,"bg-custom-blue","hover:bg-dark-blue","text-white","px-5","py-2","rounded-sm"],["x-cloak","","x-show","modalIsOpen","x-transition.opacity.duration.200ms","","x-trap.inert.noscroll","modalIsOpen","x-on:keydown.esc.window","modalIsOpen = false","x-on:click.self","modalIsOpen = false","role","dialog","aria-modal","true","aria-labelledby","defaultModalTitle",1,"fixed","inset-0","z-30","flex","justify-center","bg-white/20","p-4","pb-8","backdrop-blur-md","items-center","lg:p-8"],["x-show","modalIsOpen","x-transition:enter","transition ease-out duration-200 delay-100 motion-reduce:transition-opacity","x-transition:enter-start","opacity-0 scale-50","x-transition:enter-end","opacity-100 scale-100",1,"flex","max-w-lg","flex-col","gap-4","overflow-hidden","rounded-lg","bg-white","shadow-lg","w-full"],[1,"flex","items-center","justify-between","bg-white","p-4"],["id","defaultModalTitle",1,"font-bold","text-2xl","tracking-wide","text-neutral-900","p-3"],["x-on:click","modalIsOpen = false","aria-label","close modal"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","aria-hidden","true","stroke","currentColor","fill","none","stroke-width","1.4",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M6 18L18 6M6 6l12 12"],[1,"p-4"],["placeholder","Type Your Proposal...",1,"w-full","min-h-56","border","border-gray-300","rounded-md","p-2",3,"ngModelChange","ngModel"],[1,"flex","flex-col-reverse","justify-between","gap-2","bg-white","p-4","sm:flex-row","sm:items-center","md:justify-end"],["x-on:click","modalIsOpen = false","type","button",1,"whitespace-nowrap","rounded-sm","px-4","py-2","text-center","text-sm","font-medium","tracking-wide","text-neutral-600","transition","hover:opacity-75","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-black","active:opacity-100","active:outline-offset-0"],["x-on:click","modalIsOpen = false","type","button",1,"whitespace-nowrap","rounded-sm","bg-custom-blue","hover:bg-dark-blue","px-4","py-2","text-center","text-sm","font-medium","tracking-wide","text-neutral-100","transition","hover:opacity-75","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-black","active:opacity-100","active:outline-offset-0","disabled:bg-gray-300","disabled:text-gray-600","disabled:cursor-not-allowed",3,"click","disabled"]],template:function(l,s){l&1&&(u(0,Q,2,2,"app-notification"),t(1,"div",0),u(2,X,1,0,"app-loader")(3,te,36,22,"div",1),i()),l&2&&(f(s.notification.isFound?0:-1),n(2),f(s.loading?2:3))},dependencies:[N,H,q,G,P,R,W,z,B]})}return o})();export{be as JobComponent};
