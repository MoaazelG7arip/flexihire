
  
<div class="f-page w-full flex h-screen gap-[5vw]">
  <div class="media overflow-hidden h-full absolute top-0 left-0 w-full sm:w-[35vw] sm:relative -z-10 sm:z-10">
    <video src="video/vecteezy_happy-child-back-to-school_37210123.mp4" autoplay muted loop 
    class="w-full h-full relative object-cover"></video>
  </div>
  <div class="meta overflow-auto bg-white bg-opacity-50 sm:bg-none sm:bg-opacity-0 w-full sm:w-[60vw]">
    <div class="container pt-16">
      <h1 class="font-bold text-2xl mb-6">Register</h1>
      <form
        [formGroup]="registrationForm"
        (ngSubmit)="onSubmit()"
        class="gap-y-3 grid grid-cols-2 gap-x-5"
      >
      @if (loading) {
        <app-loader></app-loader>
        } @else {
        <!-- First Name Field -->
        <div class="col-span-1">
          <input id="firstname" type="text" formControlName="first_name" required="" />
          <label alt="First Name" placeholder="First Name"></label>

          <div
            *ngIf="
              registrationForm.get('first_name')?.invalid &&
              registrationForm.get('first_name')?.touched
            "
            class="text-sm text-red-600 mt-1"
          >
            First Name is required.
          </div>
        </div>
        <!-- First Name Field -->
        <div class="col-span-1">
          <input id="lastname" type="text" formControlName="last_name" required="" />
          <label alt="Last Name" placeholder="Last Name"></label>

          <div
            *ngIf="
              registrationForm.get('last_name')?.invalid &&
              registrationForm.get('last_name')?.touched
            "
            class="text-sm text-red-600 mt-1"
          >
            Last Name is required.
          </div>
        </div>
        <!-- Email Field -->
        <div class="col-span-2">
          <input id="email" type="text" formControlName="email" required="" />
          <label alt="Email" placeholder="Email"></label>
          <div
            *ngIf="
              registrationForm.get('email')?.invalid &&
              registrationForm.get('email')?.touched
            "
            class="text-sm text-red-600 mt-1"
          >
            Please enter a valid email.
          </div>
        </div>

        <!-- Password Field -->
        <div class="col-span-1">
          <input
            id="password"
            type="password"
            formControlName="password"
            required=""
          />
          <label alt="Password" placeholder="Password"></label>
          <div
            *ngIf="registrationForm.get('password')?.errors?.['required'] && registrationForm.get('password')?.touched"
            class="text-sm text-red-600 mt-1"
          >
            Password is required.
          </div>
          <div
            *ngIf="!registrationForm.get('password')?.errors?.['required'] &&
              registrationForm.get('password')?.touched &&
              registrationForm.get('password')?.errors?.['minlength']"
            class="text-sm text-violet-600 mt-1 font-bold"
          >
            Password must be at least 8 Characters
          </div>
        </div>

        <!-- Confirm Password Field -->
        <div class="col-span-1">
          <input
            required=""
            type="password"
            formControlName="password_confirmation"
          />
          <label
            alt="Confirm"
            placeholder="Confirm"
          ></label>
          <div
            *ngIf="(registrationForm.hasError('passwordMismatch') &&
              registrationForm.get('password_confirmation')?.touched &&
              !registrationForm.get('password_confirmation')?.errors?.['required'])"
            class="text-sm text-red-600 mt-1"
          >
            Passwords do not match.
          </div>
          <div
            *ngIf="(registrationForm.get('password_confirmation')?.touched && 
            registrationForm.get('password_confirmation')?.errors?.['required'])"
            class="text-sm text-red-600 mt-1"
          >
            Password confirmation is required.
          </div>
        </div>
        <!-- Role Selection -->
        <div class="col-span-2">
            <select
              id="role"
              formControlName="role"
              class="mt-1 p-3 block w-full rounded-md border-gray-300 border focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"
            >
              <option value="" disabled>Select Role</option>
              <option value="user">User</option>
              <option value="company">Company</option>
            </select>
            <div
              *ngIf="registrationForm.get('role')?.invalid && registrationForm.get('role')?.touched"
              class="text-sm text-red-600 mt-1"
            >
              Please select a role.
            </div>
          </div>

        <!-- Submit Button -->
        <div class="col-span-2">
            <button
              type="submit"
              [disabled]="registrationForm.invalid"
              class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm 
              text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none 
              focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-gray-300 disabled:cursor-not-allowed"
            >
              Register
            </button>
          </div>
        }
      </form>
      <p>
        already have an account?
        <button class="text-violet-600 underline" (click)="goToLoginPage()">
          sign in
        </button>
      
      </p>
    </div>
  </div>
</div>
